2025-08-13T21:50:47: âœ… New PostgreSQL client connected
2025-08-13T21:50:47: ğŸ”— Client acquired from pool
2025-08-13T21:50:47: ğŸ”“ Client released back to pool
2025-08-13T21:50:47: âœ… New PostgreSQL client connected
2025-08-13T21:50:47: ğŸ”— Client acquired from pool
2025-08-13T21:50:47: âœ… New PostgreSQL client connected
2025-08-13T21:50:47: ğŸ”— Client acquired from pool
2025-08-13T21:50:47: ğŸ”“ Client released back to pool
2025-08-13T21:50:47: ğŸ”“ Client released back to pool
2025-08-13T21:50:51: ğŸ”— Client acquired from pool
2025-08-13T21:50:51: ğŸ”“ Client released back to pool
2025-08-13T21:50:51: ğŸ”— Client acquired from pool
2025-08-13T21:50:51: ğŸ”“ Client released back to pool
2025-08-13T21:50:51: ğŸ”— Client acquired from pool
2025-08-13T21:50:51: ğŸ”“ Client released back to pool
2025-08-13T21:50:55: ğŸ”— Client acquired from pool
2025-08-13T21:50:55: ğŸ”“ Client released back to pool
2025-08-13T21:50:55: ğŸ”— Client acquired from pool
2025-08-13T21:50:55: ğŸ”“ Client released back to pool
2025-08-13T21:50:55: ğŸ”— Client acquired from pool
2025-08-13T21:50:55: ğŸ”“ Client released back to pool
2025-08-13T21:50:59: ğŸ”— Client acquired from pool
2025-08-13T21:50:59: ğŸ”“ Client released back to pool
2025-08-13T21:50:59: ğŸ”— Client acquired from pool
2025-08-13T21:50:59: ğŸ”“ Client released back to pool
2025-08-13T21:50:59: ğŸ”— Client acquired from pool
2025-08-13T21:50:59: ğŸ”“ Client released back to pool
2025-08-13T21:51:02: ğŸ”— Client acquired from pool
2025-08-13T21:51:02: ğŸ”“ Client released back to pool
2025-08-13T21:51:02: ğŸ”— Client acquired from pool
2025-08-13T21:51:02: ğŸ”“ Client released back to pool
2025-08-13T21:51:02: ğŸ”— Client acquired from pool
2025-08-13T21:51:02: ğŸ”“ Client released back to pool
2025-08-13T21:51:03: ğŸ”— Client acquired from pool
2025-08-13T21:51:03: ğŸ”“ Client released back to pool
2025-08-13T21:52:11: ğŸŒ WebSocket server initialized
2025-08-13T21:52:11: ğŸ§¹ WebSocket cleanup scheduler started
2025-08-13T21:52:11: ğŸ§ª Testing refactored components...
2025-08-13T21:52:11: ğŸš€ Production refactored server running on port 3000
2025-08-13T21:52:11: ğŸ“Š Health check: http://localhost:3000/api/health
2025-08-13T21:52:11: ğŸ” Auth test: http://localhost:3000/api/auth/login
2025-08-13T21:52:11: âš™ï¸ System routes: http://localhost:3000/api/system/health
2025-08-13T21:52:11: ğŸŒ WebSocket server initialized and ready
2025-08-13T21:52:11: âœ… New PostgreSQL client connected
2025-08-13T21:52:11: ğŸ”— Client acquired from pool
2025-08-13T21:52:11: ğŸ”“ Client released back to pool
2025-08-13T21:52:11: âœ… Database connection: OK
2025-08-13T21:52:11: âœ… Authentication middleware: OK
2025-08-13T21:52:11: âœ… Response utilities: OK
2025-08-13T21:52:11: âœ… Database utilities: OK
2025-08-13T21:52:11: ğŸ‰ All components tested successfully!
2025-08-13T21:52:11: âœ… All components tested successfully
2025-08-13T21:55:13: âœ… New PostgreSQL client connected
2025-08-13T21:55:13: ğŸ”— Client acquired from pool
2025-08-13T21:55:13: âœ… New PostgreSQL client connected
2025-08-13T21:55:13: ğŸ”— Client acquired from pool
2025-08-13T21:55:13: ğŸ”“ Client released back to pool
2025-08-13T21:55:13: ğŸ”“ Client released back to pool
2025-08-13T21:55:13: ğŸ”— Client acquired from pool
2025-08-13T21:55:13: ğŸ”“ Client released back to pool
2025-08-13T21:55:13: ğŸ”— Client acquired from pool
2025-08-13T21:55:13: ğŸ”“ Client released back to pool
2025-08-13T21:55:13: New WebSocket connection attempt
2025-08-13T21:55:13: âœ… WebSocket authenticated: admin (admin)
2025-08-13T21:55:13: ğŸ”— Client acquired from pool
2025-08-13T21:55:13: ğŸ”“ Client released back to pool
2025-08-13T21:55:13: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T21:55:13: ğŸ  admin joined room: production
2025-08-13T21:55:16: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T21:55:16: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "21:55:15",
  "notes": "",
  "marked_by": 4
}
2025-08-13T21:55:16: ğŸ‘¤ User: admin
2025-08-13T21:55:16: âŒ Validation errors: [
  {
    "type": "field",
    "value": "21:55:15",
    "msg": "Invalid value",
    "path": "check_in_time",
    "location": "body"
  }
]
2025-08-13T21:55:28: ğŸ”Œ WebSocket disconnected: admin
2025-08-13T21:55:29: ğŸ”— Client acquired from pool
2025-08-13T21:55:29: ğŸ”“ Client released back to pool
2025-08-13T21:55:29: ğŸ”— Client acquired from pool
2025-08-13T21:55:29: ğŸ”“ Client released back to pool
2025-08-13T21:55:29: ğŸ”— Client acquired from pool
2025-08-13T21:55:29: ğŸ”“ Client released back to pool
2025-08-13T21:55:29: ğŸ”— Client acquired from pool
2025-08-13T21:55:29: ğŸ”“ Client released back to pool
2025-08-13T21:55:29: New WebSocket connection attempt
2025-08-13T21:55:29: âœ… WebSocket authenticated: admin (admin)
2025-08-13T21:55:29: ğŸ”— Client acquired from pool
2025-08-13T21:55:29: ğŸ”“ Client released back to pool
2025-08-13T21:55:29: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T21:55:29: ğŸ  admin joined room: production
2025-08-13T21:55:32: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T21:55:32: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 11,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "21:55:31",
  "notes": "",
  "marked_by": 4
}
2025-08-13T21:55:32: ğŸ‘¤ User: admin
2025-08-13T21:55:32: âŒ Validation errors: [
  {
    "type": "field",
    "value": "21:55:31",
    "msg": "Invalid value",
    "path": "check_in_time",
    "location": "body"
  }
]
2025-08-13T22:02:15: ğŸŒ WebSocket server initialized
2025-08-13T22:02:15: ğŸ§¹ WebSocket cleanup scheduler started
2025-08-13T22:02:15: ğŸ§ª Testing refactored components...
2025-08-13T22:02:15: ğŸš€ Production refactored server running on port 3000
2025-08-13T22:02:15: ğŸ“Š Health check: http://localhost:3000/api/health
2025-08-13T22:02:15: ğŸ” Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:02:15: âš™ï¸ System routes: http://localhost:3000/api/system/health
2025-08-13T22:02:15: ğŸŒ WebSocket server initialized and ready
2025-08-13T22:02:15: âœ… New PostgreSQL client connected
2025-08-13T22:02:15: ğŸ”— Client acquired from pool
2025-08-13T22:02:15: ğŸ”“ Client released back to pool
2025-08-13T22:02:15: âœ… Database connection: OK
2025-08-13T22:02:15: âœ… Authentication middleware: OK
2025-08-13T22:02:15: âœ… Response utilities: OK
2025-08-13T22:02:15: âœ… Database utilities: OK
2025-08-13T22:02:15: ğŸ‰ All components tested successfully!
2025-08-13T22:02:15: âœ… All components tested successfully
2025-08-13T22:02:42: ğŸ”— Client acquired from pool
2025-08-13T22:02:42: ğŸ”“ Client released back to pool
2025-08-13T22:02:42: ğŸ”— Client acquired from pool
2025-08-13T22:02:42: ğŸ”“ Client released back to pool
2025-08-13T22:02:43: ğŸ”— Client acquired from pool
2025-08-13T22:02:43: ğŸ”“ Client released back to pool
2025-08-13T22:02:43: ğŸ”— Client acquired from pool
2025-08-13T22:02:43: ğŸ”“ Client released back to pool
2025-08-13T22:02:43: New WebSocket connection attempt
2025-08-13T22:02:43: âœ… WebSocket authenticated: admin (admin)
2025-08-13T22:02:43: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:02:43: ğŸ  admin joined room: production
2025-08-13T22:02:43: ğŸ”— Client acquired from pool
2025-08-13T22:02:43: ğŸ”“ Client released back to pool
2025-08-13T22:02:45: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:02:45: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:45: ğŸ‘¤ User: admin
2025-08-13T22:02:45: ğŸ”— Client acquired from pool
2025-08-13T22:02:45: ğŸ”“ Client released back to pool
2025-08-13T22:02:45: Error occurred: {
  error: 'invalid input syntax for type timestamp: "22:02:44"',
  stack: 'error: invalid input syntax for type timestamp: "22:02:44"\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:769:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:02:45.879Z'
}
2025-08-13T22:02:46: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:02:46: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:46: ğŸ‘¤ User: admin
2025-08-13T22:02:46: ğŸ”— Client acquired from pool
2025-08-13T22:02:46: ğŸ”“ Client released back to pool
2025-08-13T22:02:46: Error occurred: {
  error: 'invalid input syntax for type timestamp: "22:02:44"',
  stack: 'error: invalid input syntax for type timestamp: "22:02:44"\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:769:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:02:46.964Z'
}
2025-08-13T22:02:49: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:02:49: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:49: ğŸ‘¤ User: admin
2025-08-13T22:02:49: ğŸ”— Client acquired from pool
2025-08-13T22:02:49: ğŸ”“ Client released back to pool
2025-08-13T22:02:49: Error occurred: {
  error: 'invalid input syntax for type timestamp: "22:02:44"',
  stack: 'error: invalid input syntax for type timestamp: "22:02:44"\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:769:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:02:49.062Z'
}
2025-08-13T22:03:16: ğŸ“º admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: âœ… New PostgreSQL client connected
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: âœ… New PostgreSQL client connected
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:16: ğŸ  admin joined room: production
2025-08-13T22:03:16: ğŸ“º admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: âœ… New PostgreSQL client connected
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: âœ… New PostgreSQL client connected
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:16: ğŸ”— Client acquired from pool
2025-08-13T22:03:16: ğŸ”“ Client released back to pool
2025-08-13T22:03:17: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:17: ğŸ  admin joined room: production
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ”— Client acquired from pool
2025-08-13T22:03:19: ğŸ”“ Client released back to pool
2025-08-13T22:03:19: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:19: ğŸ  admin joined room: production
2025-08-13T22:03:22: ğŸ”— Client acquired from pool
2025-08-13T22:03:22: ğŸ”“ Client released back to pool
2025-08-13T22:10:15: ğŸŒ WebSocket server initialized
2025-08-13T22:10:15: ğŸ§¹ WebSocket cleanup scheduler started
2025-08-13T22:10:15: ğŸ§ª Testing refactored components...
2025-08-13T22:10:15: ğŸš€ Production refactored server running on port 3000
2025-08-13T22:10:15: ğŸ“Š Health check: http://localhost:3000/api/health
2025-08-13T22:10:15: ğŸ” Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:10:15: âš™ï¸ System routes: http://localhost:3000/api/system/health
2025-08-13T22:10:15: ğŸŒ WebSocket server initialized and ready
2025-08-13T22:10:15: âœ… New PostgreSQL client connected
2025-08-13T22:10:15: ğŸ”— Client acquired from pool
2025-08-13T22:10:15: ğŸ”“ Client released back to pool
2025-08-13T22:10:15: âœ… Database connection: OK
2025-08-13T22:10:15: âœ… Authentication middleware: OK
2025-08-13T22:10:15: âœ… Response utilities: OK
2025-08-13T22:10:15: âœ… Database utilities: OK
2025-08-13T22:10:15: ğŸ‰ All components tested successfully!
2025-08-13T22:10:15: âœ… All components tested successfully
2025-08-13T22:13:28: âœ… New PostgreSQL client connected
2025-08-13T22:13:28: ğŸ”— Client acquired from pool
2025-08-13T22:13:28: ğŸ”“ Client released back to pool
2025-08-13T22:13:28: âœ… New PostgreSQL client connected
2025-08-13T22:13:28: ğŸ”— Client acquired from pool
2025-08-13T22:13:28: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: âœ… New PostgreSQL client connected
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: New WebSocket connection attempt
2025-08-13T22:13:29: âœ… WebSocket authenticated: admin (admin)
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ”— Client acquired from pool
2025-08-13T22:13:29: ğŸ”“ Client released back to pool
2025-08-13T22:13:29: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:13:29: ğŸ  admin joined room: production
2025-08-13T22:13:29: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:13:29: ğŸ  admin joined room: production
2025-08-13T22:13:31: ğŸ”— Client acquired from pool
2025-08-13T22:13:31: ğŸ”“ Client released back to pool
2025-08-13T22:13:33: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:13:33: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:13:31",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:33: ğŸ‘¤ User: admin
2025-08-13T22:13:33: ğŸ”— Client acquired from pool
2025-08-13T22:13:33: ğŸ”“ Client released back to pool
2025-08-13T22:13:33: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:33: ğŸ”— Client acquired from pool
2025-08-13T22:13:33: ğŸ”“ Client released back to pool
2025-08-13T22:13:36: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:13:36: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 30,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:35",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:36: ğŸ‘¤ User: admin
2025-08-13T22:13:36: ğŸ”— Client acquired from pool
2025-08-13T22:13:36: ğŸ”“ Client released back to pool
2025-08-13T22:13:36: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:36: ğŸ”— Client acquired from pool
2025-08-13T22:13:36: ğŸ”“ Client released back to pool
2025-08-13T22:13:42: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:13:42: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 10,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:41",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:42: ğŸ‘¤ User: admin
2025-08-13T22:13:42: ğŸ”— Client acquired from pool
2025-08-13T22:13:42: ğŸ”“ Client released back to pool
2025-08-13T22:13:42: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:42: ğŸ”— Client acquired from pool
2025-08-13T22:13:42: ğŸ”“ Client released back to pool
2025-08-13T22:13:44: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:13:44: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 11,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:43",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:44: ğŸ‘¤ User: admin
2025-08-13T22:13:44: ğŸ”— Client acquired from pool
2025-08-13T22:13:44: ğŸ”“ Client released back to pool
2025-08-13T22:13:44: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:44: ğŸ”— Client acquired from pool
2025-08-13T22:13:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: âœ… New PostgreSQL client connected
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:14:01: ğŸ  admin joined room: production
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:01: ğŸ”— Client acquired from pool
2025-08-13T22:14:01: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: ğŸ“º admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:14:44: âœ… New PostgreSQL client connected
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: âœ… New PostgreSQL client connected
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: âœ… New PostgreSQL client connected
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: âœ… New PostgreSQL client connected
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: âœ… New PostgreSQL client connected
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: ğŸ”— Client acquired from pool
2025-08-13T22:14:44: ğŸ”“ Client released back to pool
2025-08-13T22:14:44: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:14:44: ğŸ  admin joined room: production
2025-08-13T22:15:09: ğŸ”— Client acquired from pool
2025-08-13T22:15:09: ğŸ”“ Client released back to pool
2025-08-13T22:15:09: ğŸ”— Client acquired from pool
2025-08-13T22:15:09: ğŸ”— Client acquired from pool
2025-08-13T22:15:09: ğŸ”“ Client released back to pool
2025-08-13T22:15:09: ğŸ”“ Client released back to pool
2025-08-13T22:15:12: ğŸ”— Client acquired from pool
2025-08-13T22:15:12: ğŸ”“ Client released back to pool
2025-08-13T22:15:12: ğŸ”— Client acquired from pool
2025-08-13T22:15:12: ğŸ”“ Client released back to pool
2025-08-13T22:15:12: ğŸ”— Client acquired from pool
2025-08-13T22:15:12: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ“º admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: âœ… New PostgreSQL client connected
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ”— Client acquired from pool
2025-08-13T22:15:26: ğŸ”“ Client released back to pool
2025-08-13T22:15:26: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:26: ğŸ  admin joined room: production
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ”— Client acquired from pool
2025-08-13T22:15:29: ğŸ”“ Client released back to pool
2025-08-13T22:15:29: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:29: ğŸ  admin joined room: production
2025-08-13T22:15:33: ğŸ“º admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: âœ… New PostgreSQL client connected
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: âœ… New PostgreSQL client connected
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: ğŸ”— Client acquired from pool
2025-08-13T22:15:33: ğŸ”“ Client released back to pool
2025-08-13T22:15:33: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:33: ğŸ  admin joined room: production
2025-08-13T22:15:35: ğŸ“º admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ”— Client acquired from pool
2025-08-13T22:15:35: ğŸ”“ Client released back to pool
2025-08-13T22:15:35: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:35: ğŸ  admin joined room: production
2025-08-13T22:15:46: ğŸŒ WebSocket server initialized
2025-08-13T22:15:46: ğŸ§¹ WebSocket cleanup scheduler started
2025-08-13T22:15:46: ğŸ§ª Testing refactored components...
2025-08-13T22:15:46: ğŸš€ Production refactored server running on port 3000
2025-08-13T22:15:46: ğŸ“Š Health check: http://localhost:3000/api/health
2025-08-13T22:15:46: ğŸ” Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:15:46: âš™ï¸ System routes: http://localhost:3000/api/system/health
2025-08-13T22:15:46: ğŸŒ WebSocket server initialized and ready
2025-08-13T22:15:46: âœ… New PostgreSQL client connected
2025-08-13T22:15:46: ğŸ”— Client acquired from pool
2025-08-13T22:15:46: ğŸ”“ Client released back to pool
2025-08-13T22:15:46: âœ… Database connection: OK
2025-08-13T22:15:46: âœ… Authentication middleware: OK
2025-08-13T22:15:46: âœ… Response utilities: OK
2025-08-13T22:15:46: âœ… Database utilities: OK
2025-08-13T22:15:46: ğŸ‰ All components tested successfully!
2025-08-13T22:15:46: âœ… All components tested successfully
2025-08-13T22:16:05: ğŸ”— Client acquired from pool
2025-08-13T22:16:05: ğŸ”“ Client released back to pool
2025-08-13T22:16:05: ğŸ”— Client acquired from pool
2025-08-13T22:16:05: ğŸ”“ Client released back to pool
2025-08-13T22:16:05: ğŸ”— Client acquired from pool
2025-08-13T22:16:05: ğŸ”“ Client released back to pool
2025-08-13T22:16:05: âœ… New PostgreSQL client connected
2025-08-13T22:16:05: ğŸ”— Client acquired from pool
2025-08-13T22:16:05: ğŸ”“ Client released back to pool
2025-08-13T22:16:35: ğŸ”— Client acquired from pool
2025-08-13T22:16:35: ğŸ”— Client acquired from pool
2025-08-13T22:16:35: ğŸ”“ Client released back to pool
2025-08-13T22:16:35: ğŸ”— Client acquired from pool
2025-08-13T22:16:35: ğŸ”“ Client released back to pool
2025-08-13T22:16:35: ğŸ”“ Client released back to pool
2025-08-13T22:16:35: âœ… New PostgreSQL client connected
2025-08-13T22:16:35: ğŸ”— Client acquired from pool
2025-08-13T22:16:35: ğŸ”“ Client released back to pool
2025-08-13T22:16:44: ğŸ”— Client acquired from pool
2025-08-13T22:16:44: ğŸ”“ Client released back to pool
2025-08-13T22:16:44: ğŸ”— Client acquired from pool
2025-08-13T22:16:44: ğŸ”“ Client released back to pool
2025-08-13T22:16:44: ğŸ”— Client acquired from pool
2025-08-13T22:16:44: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:48: ğŸ”— Client acquired from pool
2025-08-13T22:16:48: ğŸ”“ Client released back to pool
2025-08-13T22:16:49: New WebSocket connection attempt
2025-08-13T22:16:49: âœ… WebSocket authenticated: admin (admin)
2025-08-13T22:16:49: ğŸ”— Client acquired from pool
2025-08-13T22:16:49: ğŸ”“ Client released back to pool
2025-08-13T22:16:49: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:16:49: ğŸ  admin joined room: production
2025-08-13T22:16:59: ğŸ”— Client acquired from pool
2025-08-13T22:16:59: ğŸ”— Client acquired from pool
2025-08-13T22:16:59: ğŸ”“ Client released back to pool
2025-08-13T22:16:59: ğŸ”“ Client released back to pool
2025-08-13T22:16:59: ğŸ”— Client acquired from pool
2025-08-13T22:16:59: ğŸ”“ Client released back to pool
2025-08-13T22:17:00: ğŸ”— Client acquired from pool
2025-08-13T22:17:00: ğŸ”“ Client released back to pool
2025-08-13T22:17:03: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:03: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:03: ğŸ‘¤ User: admin
2025-08-13T22:17:03: ğŸ”— Client acquired from pool
2025-08-13T22:17:03: ğŸ”“ Client released back to pool
2025-08-13T22:17:03: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:03.545Z'
}
2025-08-13T22:17:04: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:04: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:04: ğŸ‘¤ User: admin
2025-08-13T22:17:04: ğŸ”— Client acquired from pool
2025-08-13T22:17:04: ğŸ”“ Client released back to pool
2025-08-13T22:17:04: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:04.624Z'
}
2025-08-13T22:17:06: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:06: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:06: ğŸ‘¤ User: admin
2025-08-13T22:17:06: ğŸ”— Client acquired from pool
2025-08-13T22:17:06: ğŸ”“ Client released back to pool
2025-08-13T22:17:06: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:06.703Z'
}
2025-08-13T22:17:09: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:09: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 23,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:07",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:09: ğŸ‘¤ User: admin
2025-08-13T22:17:09: ğŸ”— Client acquired from pool
2025-08-13T22:17:09: ğŸ”“ Client released back to pool
2025-08-13T22:17:09: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:09: ğŸ”— Client acquired from pool
2025-08-13T22:17:09: ğŸ”“ Client released back to pool
2025-08-13T22:17:14: ğŸ”— Client acquired from pool
2025-08-13T22:17:14: ğŸ”“ Client released back to pool
2025-08-13T22:17:16: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:16: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 13,
  "shift_type": "night",
  "status": "present",
  "check_in_time": "22:17:14",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:16: ğŸ‘¤ User: admin
2025-08-13T22:17:16: ğŸ”— Client acquired from pool
2025-08-13T22:17:16: ğŸ”“ Client released back to pool
2025-08-13T22:17:16: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:16: ğŸ”— Client acquired from pool
2025-08-13T22:17:16: ğŸ”“ Client released back to pool
2025-08-13T22:17:17: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:17: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 9,
  "shift_type": "night",
  "status": "present",
  "check_in_time": "22:17:16",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:17: ğŸ‘¤ User: admin
2025-08-13T22:17:17: ğŸ”— Client acquired from pool
2025-08-13T22:17:17: ğŸ”“ Client released back to pool
2025-08-13T22:17:17: ğŸ“¡ Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:17: ğŸ”— Client acquired from pool
2025-08-13T22:17:17: ğŸ”“ Client released back to pool
2025-08-13T22:17:20: ğŸ”— Client acquired from pool
2025-08-13T22:17:20: ğŸ”“ Client released back to pool
2025-08-13T22:17:33: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:33: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:33: ğŸ‘¤ User: admin
2025-08-13T22:17:33: ğŸ”— Client acquired from pool
2025-08-13T22:17:33: ğŸ”“ Client released back to pool
2025-08-13T22:17:33: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:33.723Z'
}
2025-08-13T22:17:34: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:34: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:34: ğŸ‘¤ User: admin
2025-08-13T22:17:34: ğŸ”— Client acquired from pool
2025-08-13T22:17:34: ğŸ”“ Client released back to pool
2025-08-13T22:17:34: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:34.802Z'
}
2025-08-13T22:17:36: ğŸ” ATTENDANCE POST DEBUG:
2025-08-13T22:17:36: ğŸ“ Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:36: ğŸ‘¤ User: admin
2025-08-13T22:17:36: ğŸ”— Client acquired from pool
2025-08-13T22:17:36: ğŸ”“ Client released back to pool
2025-08-13T22:17:36: Error occurred: {
  error: 'null value in column "machine_id" of relation "attendance_register" violates not-null constraint',
  stack: 'error: null value in column "machine_id" of relation "attendance_register" violates not-null constraint\n' +
    '    at /home/production-app/production-orders-app/node_modules/pg/lib/client.js:545:17\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async DatabaseManager.query (/home/production-app/production-orders-app/src/config/database.js:38:22)\n' +
    '    at async DatabaseUtils.raw (/home/production-app/production-orders-app/src/utils/database.js:146:12)\n' +
    '    at async LaborService.markAttendance (/home/production-app/production-orders-app/src/services/labor.service.js:791:20)\n' +
    '    at async /home/production-app/production-orders-app/src/routes/labor.routes.js:299:30',
  url: '/attendance-register',
  method: 'POST',
  user: 'admin',
  timestamp: '2025-08-13T20:17:36.883Z'
}
2025-08-13T22:19:12: âœ… New PostgreSQL client connected
2025-08-13T22:19:12: ğŸ”— Client acquired from pool
2025-08-13T22:19:12: âœ… New PostgreSQL client connected
2025-08-13T22:19:12: ğŸ”— Client acquired from pool
2025-08-13T22:19:12: âœ… New PostgreSQL client connected
2025-08-13T22:19:12: ğŸ”— Client acquired from pool
2025-08-13T22:19:12: ğŸ”“ Client released back to pool
2025-08-13T22:19:12: ğŸ”“ Client released back to pool
2025-08-13T22:19:12: ğŸ”“ Client released back to pool
2025-08-13T22:19:16: ğŸ”— Client acquired from pool
2025-08-13T22:19:16: ğŸ”“ Client released back to pool
2025-08-13T22:19:16: ğŸ”— Client acquired from pool
2025-08-13T22:19:16: ğŸ”“ Client released back to pool
2025-08-13T22:19:16: ğŸ”— Client acquired from pool
2025-08-13T22:19:16: ğŸ”“ Client released back to pool
2025-08-13T22:19:17: ğŸ”— Client acquired from pool
2025-08-13T22:19:17: ğŸ”“ Client released back to pool
2025-08-13T22:19:17: ğŸ”— Client acquired from pool
2025-08-13T22:19:17: ğŸ”“ Client released back to pool
2025-08-13T22:19:17: ğŸ”— Client acquired from pool
2025-08-13T22:19:17: ğŸ”“ Client released back to pool
2025-08-13T22:19:27: ğŸ”— Client acquired from pool
2025-08-13T22:19:27: ğŸ”“ Client released back to pool
2025-08-13T22:19:27: ğŸ”— Client acquired from pool
2025-08-13T22:19:27: ğŸ”“ Client released back to pool
2025-08-13T22:19:27: ğŸ”— Client acquired from pool
2025-08-13T22:19:27: ğŸ”“ Client released back to pool
2025-08-13T22:19:28: ğŸ”— Client acquired from pool
2025-08-13T22:19:28: ğŸ”“ Client released back to pool
2025-08-13T22:19:28: ğŸ”— Client acquired from pool
2025-08-13T22:19:28: ğŸ”“ Client released back to pool
2025-08-13T22:19:28: ğŸ”— Client acquired from pool
2025-08-13T22:19:28: ğŸ”“ Client released back to pool
2025-08-13T22:19:43: ğŸ”— Client acquired from pool
2025-08-13T22:19:43: ğŸ”“ Client released back to pool
2025-08-13T22:19:54: ğŸ”— Client acquired from pool
2025-08-13T22:19:54: ğŸ”“ Client released back to pool
2025-08-13T22:19:54: ğŸ”— Client acquired from pool
2025-08-13T22:19:54: ğŸ”“ Client released back to pool
2025-08-13T22:19:54: âœ… New PostgreSQL client connected
2025-08-13T22:19:54: ğŸ”— Client acquired from pool
2025-08-13T22:19:54: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ“º admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: âœ… New PostgreSQL client connected
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:56: ğŸ”— Client acquired from pool
2025-08-13T22:19:56: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:19:57: ğŸ  admin joined room: production
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ”— Client acquired from pool
2025-08-13T22:19:57: ğŸ”“ Client released back to pool
2025-08-13T22:19:57: ğŸ“º admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:19:57: ğŸ  admin joined room: production
