2025-08-13T21:50:47: ✅ New PostgreSQL client connected
2025-08-13T21:50:47: 🔗 Client acquired from pool
2025-08-13T21:50:47: 🔓 Client released back to pool
2025-08-13T21:50:47: ✅ New PostgreSQL client connected
2025-08-13T21:50:47: 🔗 Client acquired from pool
2025-08-13T21:50:47: ✅ New PostgreSQL client connected
2025-08-13T21:50:47: 🔗 Client acquired from pool
2025-08-13T21:50:47: 🔓 Client released back to pool
2025-08-13T21:50:47: 🔓 Client released back to pool
2025-08-13T21:50:51: 🔗 Client acquired from pool
2025-08-13T21:50:51: 🔓 Client released back to pool
2025-08-13T21:50:51: 🔗 Client acquired from pool
2025-08-13T21:50:51: 🔓 Client released back to pool
2025-08-13T21:50:51: 🔗 Client acquired from pool
2025-08-13T21:50:51: 🔓 Client released back to pool
2025-08-13T21:50:55: 🔗 Client acquired from pool
2025-08-13T21:50:55: 🔓 Client released back to pool
2025-08-13T21:50:55: 🔗 Client acquired from pool
2025-08-13T21:50:55: 🔓 Client released back to pool
2025-08-13T21:50:55: 🔗 Client acquired from pool
2025-08-13T21:50:55: 🔓 Client released back to pool
2025-08-13T21:50:59: 🔗 Client acquired from pool
2025-08-13T21:50:59: 🔓 Client released back to pool
2025-08-13T21:50:59: 🔗 Client acquired from pool
2025-08-13T21:50:59: 🔓 Client released back to pool
2025-08-13T21:50:59: 🔗 Client acquired from pool
2025-08-13T21:50:59: 🔓 Client released back to pool
2025-08-13T21:51:02: 🔗 Client acquired from pool
2025-08-13T21:51:02: 🔓 Client released back to pool
2025-08-13T21:51:02: 🔗 Client acquired from pool
2025-08-13T21:51:02: 🔓 Client released back to pool
2025-08-13T21:51:02: 🔗 Client acquired from pool
2025-08-13T21:51:02: 🔓 Client released back to pool
2025-08-13T21:51:03: 🔗 Client acquired from pool
2025-08-13T21:51:03: 🔓 Client released back to pool
2025-08-13T21:52:11: 🌐 WebSocket server initialized
2025-08-13T21:52:11: 🧹 WebSocket cleanup scheduler started
2025-08-13T21:52:11: 🧪 Testing refactored components...
2025-08-13T21:52:11: 🚀 Production refactored server running on port 3000
2025-08-13T21:52:11: 📊 Health check: http://localhost:3000/api/health
2025-08-13T21:52:11: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T21:52:11: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T21:52:11: 🌐 WebSocket server initialized and ready
2025-08-13T21:52:11: ✅ New PostgreSQL client connected
2025-08-13T21:52:11: 🔗 Client acquired from pool
2025-08-13T21:52:11: 🔓 Client released back to pool
2025-08-13T21:52:11: ✅ Database connection: OK
2025-08-13T21:52:11: ✅ Authentication middleware: OK
2025-08-13T21:52:11: ✅ Response utilities: OK
2025-08-13T21:52:11: ✅ Database utilities: OK
2025-08-13T21:52:11: 🎉 All components tested successfully!
2025-08-13T21:52:11: ✅ All components tested successfully
2025-08-13T21:55:13: ✅ New PostgreSQL client connected
2025-08-13T21:55:13: 🔗 Client acquired from pool
2025-08-13T21:55:13: ✅ New PostgreSQL client connected
2025-08-13T21:55:13: 🔗 Client acquired from pool
2025-08-13T21:55:13: 🔓 Client released back to pool
2025-08-13T21:55:13: 🔓 Client released back to pool
2025-08-13T21:55:13: 🔗 Client acquired from pool
2025-08-13T21:55:13: 🔓 Client released back to pool
2025-08-13T21:55:13: 🔗 Client acquired from pool
2025-08-13T21:55:13: 🔓 Client released back to pool
2025-08-13T21:55:13: New WebSocket connection attempt
2025-08-13T21:55:13: ✅ WebSocket authenticated: admin (admin)
2025-08-13T21:55:13: 🔗 Client acquired from pool
2025-08-13T21:55:13: 🔓 Client released back to pool
2025-08-13T21:55:13: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T21:55:13: 🏠 admin joined room: production
2025-08-13T21:55:16: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T21:55:16: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "21:55:15",
  "notes": "",
  "marked_by": 4
}
2025-08-13T21:55:16: 👤 User: admin
2025-08-13T21:55:16: ❌ Validation errors: [
  {
    "type": "field",
    "value": "21:55:15",
    "msg": "Invalid value",
    "path": "check_in_time",
    "location": "body"
  }
]
2025-08-13T21:55:28: 🔌 WebSocket disconnected: admin
2025-08-13T21:55:29: 🔗 Client acquired from pool
2025-08-13T21:55:29: 🔓 Client released back to pool
2025-08-13T21:55:29: 🔗 Client acquired from pool
2025-08-13T21:55:29: 🔓 Client released back to pool
2025-08-13T21:55:29: 🔗 Client acquired from pool
2025-08-13T21:55:29: 🔓 Client released back to pool
2025-08-13T21:55:29: 🔗 Client acquired from pool
2025-08-13T21:55:29: 🔓 Client released back to pool
2025-08-13T21:55:29: New WebSocket connection attempt
2025-08-13T21:55:29: ✅ WebSocket authenticated: admin (admin)
2025-08-13T21:55:29: 🔗 Client acquired from pool
2025-08-13T21:55:29: 🔓 Client released back to pool
2025-08-13T21:55:29: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T21:55:29: 🏠 admin joined room: production
2025-08-13T21:55:32: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T21:55:32: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 11,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "21:55:31",
  "notes": "",
  "marked_by": 4
}
2025-08-13T21:55:32: 👤 User: admin
2025-08-13T21:55:32: ❌ Validation errors: [
  {
    "type": "field",
    "value": "21:55:31",
    "msg": "Invalid value",
    "path": "check_in_time",
    "location": "body"
  }
]
2025-08-13T22:02:15: 🌐 WebSocket server initialized
2025-08-13T22:02:15: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:02:15: 🧪 Testing refactored components...
2025-08-13T22:02:15: 🚀 Production refactored server running on port 3000
2025-08-13T22:02:15: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:02:15: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:02:15: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:02:15: 🌐 WebSocket server initialized and ready
2025-08-13T22:02:15: ✅ New PostgreSQL client connected
2025-08-13T22:02:15: 🔗 Client acquired from pool
2025-08-13T22:02:15: 🔓 Client released back to pool
2025-08-13T22:02:15: ✅ Database connection: OK
2025-08-13T22:02:15: ✅ Authentication middleware: OK
2025-08-13T22:02:15: ✅ Response utilities: OK
2025-08-13T22:02:15: ✅ Database utilities: OK
2025-08-13T22:02:15: 🎉 All components tested successfully!
2025-08-13T22:02:15: ✅ All components tested successfully
2025-08-13T22:02:42: 🔗 Client acquired from pool
2025-08-13T22:02:42: 🔓 Client released back to pool
2025-08-13T22:02:42: 🔗 Client acquired from pool
2025-08-13T22:02:42: 🔓 Client released back to pool
2025-08-13T22:02:43: 🔗 Client acquired from pool
2025-08-13T22:02:43: 🔓 Client released back to pool
2025-08-13T22:02:43: 🔗 Client acquired from pool
2025-08-13T22:02:43: 🔓 Client released back to pool
2025-08-13T22:02:43: New WebSocket connection attempt
2025-08-13T22:02:43: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:02:43: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:02:43: 🏠 admin joined room: production
2025-08-13T22:02:43: 🔗 Client acquired from pool
2025-08-13T22:02:43: 🔓 Client released back to pool
2025-08-13T22:02:45: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:02:45: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:45: 👤 User: admin
2025-08-13T22:02:45: 🔗 Client acquired from pool
2025-08-13T22:02:45: 🔓 Client released back to pool
2025-08-13T22:02:46: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:02:46: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:46: 👤 User: admin
2025-08-13T22:02:46: 🔗 Client acquired from pool
2025-08-13T22:02:46: 🔓 Client released back to pool
2025-08-13T22:02:49: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:02:49: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:02:44",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:02:49: 👤 User: admin
2025-08-13T22:02:49: 🔗 Client acquired from pool
2025-08-13T22:02:49: 🔓 Client released back to pool
2025-08-13T22:03:16: 📺 admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: ✅ New PostgreSQL client connected
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: ✅ New PostgreSQL client connected
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:16: 🏠 admin joined room: production
2025-08-13T22:03:16: 📺 admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: ✅ New PostgreSQL client connected
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: ✅ New PostgreSQL client connected
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:16: 🔗 Client acquired from pool
2025-08-13T22:03:16: 🔓 Client released back to pool
2025-08-13T22:03:17: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:17: 🏠 admin joined room: production
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 🔗 Client acquired from pool
2025-08-13T22:03:19: 🔓 Client released back to pool
2025-08-13T22:03:19: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:03:19: 🏠 admin joined room: production
2025-08-13T22:03:22: 🔗 Client acquired from pool
2025-08-13T22:03:22: 🔓 Client released back to pool
2025-08-13T22:10:15: 🌐 WebSocket server initialized
2025-08-13T22:10:15: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:10:15: 🧪 Testing refactored components...
2025-08-13T22:10:15: 🚀 Production refactored server running on port 3000
2025-08-13T22:10:15: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:10:15: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:10:15: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:10:15: 🌐 WebSocket server initialized and ready
2025-08-13T22:10:15: ✅ New PostgreSQL client connected
2025-08-13T22:10:15: 🔗 Client acquired from pool
2025-08-13T22:10:15: 🔓 Client released back to pool
2025-08-13T22:10:15: ✅ Database connection: OK
2025-08-13T22:10:15: ✅ Authentication middleware: OK
2025-08-13T22:10:15: ✅ Response utilities: OK
2025-08-13T22:10:15: ✅ Database utilities: OK
2025-08-13T22:10:15: 🎉 All components tested successfully!
2025-08-13T22:10:15: ✅ All components tested successfully
2025-08-13T22:13:28: ✅ New PostgreSQL client connected
2025-08-13T22:13:28: 🔗 Client acquired from pool
2025-08-13T22:13:28: 🔓 Client released back to pool
2025-08-13T22:13:28: ✅ New PostgreSQL client connected
2025-08-13T22:13:28: 🔗 Client acquired from pool
2025-08-13T22:13:28: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: ✅ New PostgreSQL client connected
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: New WebSocket connection attempt
2025-08-13T22:13:29: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 🔗 Client acquired from pool
2025-08-13T22:13:29: 🔓 Client released back to pool
2025-08-13T22:13:29: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:13:29: 🏠 admin joined room: production
2025-08-13T22:13:29: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:13:29: 🏠 admin joined room: production
2025-08-13T22:13:31: 🔗 Client acquired from pool
2025-08-13T22:13:31: 🔓 Client released back to pool
2025-08-13T22:13:33: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:13:33: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:13:31",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:33: 👤 User: admin
2025-08-13T22:13:33: 🔗 Client acquired from pool
2025-08-13T22:13:33: 🔓 Client released back to pool
2025-08-13T22:13:33: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:33: 🔗 Client acquired from pool
2025-08-13T22:13:33: 🔓 Client released back to pool
2025-08-13T22:13:36: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:13:36: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 30,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:35",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:36: 👤 User: admin
2025-08-13T22:13:36: 🔗 Client acquired from pool
2025-08-13T22:13:36: 🔓 Client released back to pool
2025-08-13T22:13:36: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:36: 🔗 Client acquired from pool
2025-08-13T22:13:36: 🔓 Client released back to pool
2025-08-13T22:13:42: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:13:42: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 10,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:41",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:42: 👤 User: admin
2025-08-13T22:13:42: 🔗 Client acquired from pool
2025-08-13T22:13:42: 🔓 Client released back to pool
2025-08-13T22:13:42: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:42: 🔗 Client acquired from pool
2025-08-13T22:13:42: 🔓 Client released back to pool
2025-08-13T22:13:44: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:13:44: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 11,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:13:43",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:13:44: 👤 User: admin
2025-08-13T22:13:44: 🔗 Client acquired from pool
2025-08-13T22:13:44: 🔓 Client released back to pool
2025-08-13T22:13:44: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:13:44: 🔗 Client acquired from pool
2025-08-13T22:13:44: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: ✅ New PostgreSQL client connected
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:14:01: 🏠 admin joined room: production
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:01: 🔗 Client acquired from pool
2025-08-13T22:14:01: 🔓 Client released back to pool
2025-08-13T22:14:44: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:14:44: ✅ New PostgreSQL client connected
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: ✅ New PostgreSQL client connected
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: ✅ New PostgreSQL client connected
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: ✅ New PostgreSQL client connected
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: ✅ New PostgreSQL client connected
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: 🔗 Client acquired from pool
2025-08-13T22:14:44: 🔓 Client released back to pool
2025-08-13T22:14:44: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:14:44: 🏠 admin joined room: production
2025-08-13T22:15:09: 🔗 Client acquired from pool
2025-08-13T22:15:09: 🔓 Client released back to pool
2025-08-13T22:15:09: 🔗 Client acquired from pool
2025-08-13T22:15:09: 🔗 Client acquired from pool
2025-08-13T22:15:09: 🔓 Client released back to pool
2025-08-13T22:15:09: 🔓 Client released back to pool
2025-08-13T22:15:12: 🔗 Client acquired from pool
2025-08-13T22:15:12: 🔓 Client released back to pool
2025-08-13T22:15:12: 🔗 Client acquired from pool
2025-08-13T22:15:12: 🔓 Client released back to pool
2025-08-13T22:15:12: 🔗 Client acquired from pool
2025-08-13T22:15:12: 🔓 Client released back to pool
2025-08-13T22:15:26: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: ✅ New PostgreSQL client connected
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: 🔗 Client acquired from pool
2025-08-13T22:15:26: 🔓 Client released back to pool
2025-08-13T22:15:26: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:26: 🏠 admin joined room: production
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 🔗 Client acquired from pool
2025-08-13T22:15:29: 🔓 Client released back to pool
2025-08-13T22:15:29: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:29: 🏠 admin joined room: production
2025-08-13T22:15:33: 📺 admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: ✅ New PostgreSQL client connected
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: ✅ New PostgreSQL client connected
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: 🔗 Client acquired from pool
2025-08-13T22:15:33: 🔓 Client released back to pool
2025-08-13T22:15:33: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:33: 🏠 admin joined room: production
2025-08-13T22:15:35: 📺 admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 🔗 Client acquired from pool
2025-08-13T22:15:35: 🔓 Client released back to pool
2025-08-13T22:15:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:15:35: 🏠 admin joined room: production
2025-08-13T22:15:46: 🌐 WebSocket server initialized
2025-08-13T22:15:46: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:15:46: 🧪 Testing refactored components...
2025-08-13T22:15:46: 🚀 Production refactored server running on port 3000
2025-08-13T22:15:46: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:15:46: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:15:46: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:15:46: 🌐 WebSocket server initialized and ready
2025-08-13T22:15:46: ✅ New PostgreSQL client connected
2025-08-13T22:15:46: 🔗 Client acquired from pool
2025-08-13T22:15:46: 🔓 Client released back to pool
2025-08-13T22:15:46: ✅ Database connection: OK
2025-08-13T22:15:46: ✅ Authentication middleware: OK
2025-08-13T22:15:46: ✅ Response utilities: OK
2025-08-13T22:15:46: ✅ Database utilities: OK
2025-08-13T22:15:46: 🎉 All components tested successfully!
2025-08-13T22:15:46: ✅ All components tested successfully
2025-08-13T22:16:05: 🔗 Client acquired from pool
2025-08-13T22:16:05: 🔓 Client released back to pool
2025-08-13T22:16:05: 🔗 Client acquired from pool
2025-08-13T22:16:05: 🔓 Client released back to pool
2025-08-13T22:16:05: 🔗 Client acquired from pool
2025-08-13T22:16:05: 🔓 Client released back to pool
2025-08-13T22:16:05: ✅ New PostgreSQL client connected
2025-08-13T22:16:05: 🔗 Client acquired from pool
2025-08-13T22:16:05: 🔓 Client released back to pool
2025-08-13T22:16:35: 🔗 Client acquired from pool
2025-08-13T22:16:35: 🔗 Client acquired from pool
2025-08-13T22:16:35: 🔓 Client released back to pool
2025-08-13T22:16:35: 🔗 Client acquired from pool
2025-08-13T22:16:35: 🔓 Client released back to pool
2025-08-13T22:16:35: 🔓 Client released back to pool
2025-08-13T22:16:35: ✅ New PostgreSQL client connected
2025-08-13T22:16:35: 🔗 Client acquired from pool
2025-08-13T22:16:35: 🔓 Client released back to pool
2025-08-13T22:16:44: 🔗 Client acquired from pool
2025-08-13T22:16:44: 🔓 Client released back to pool
2025-08-13T22:16:44: 🔗 Client acquired from pool
2025-08-13T22:16:44: 🔓 Client released back to pool
2025-08-13T22:16:44: 🔗 Client acquired from pool
2025-08-13T22:16:44: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:48: 🔗 Client acquired from pool
2025-08-13T22:16:48: 🔓 Client released back to pool
2025-08-13T22:16:49: New WebSocket connection attempt
2025-08-13T22:16:49: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:16:49: 🔗 Client acquired from pool
2025-08-13T22:16:49: 🔓 Client released back to pool
2025-08-13T22:16:49: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:16:49: 🏠 admin joined room: production
2025-08-13T22:16:59: 🔗 Client acquired from pool
2025-08-13T22:16:59: 🔗 Client acquired from pool
2025-08-13T22:16:59: 🔓 Client released back to pool
2025-08-13T22:16:59: 🔓 Client released back to pool
2025-08-13T22:16:59: 🔗 Client acquired from pool
2025-08-13T22:16:59: 🔓 Client released back to pool
2025-08-13T22:17:00: 🔗 Client acquired from pool
2025-08-13T22:17:00: 🔓 Client released back to pool
2025-08-13T22:17:03: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:03: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:03: 👤 User: admin
2025-08-13T22:17:03: 🔗 Client acquired from pool
2025-08-13T22:17:03: 🔓 Client released back to pool
2025-08-13T22:17:04: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:04: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:04: 👤 User: admin
2025-08-13T22:17:04: 🔗 Client acquired from pool
2025-08-13T22:17:04: 🔓 Client released back to pool
2025-08-13T22:17:06: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:06: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:06: 👤 User: admin
2025-08-13T22:17:06: 🔗 Client acquired from pool
2025-08-13T22:17:06: 🔓 Client released back to pool
2025-08-13T22:17:09: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:09: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 23,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:07",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:09: 👤 User: admin
2025-08-13T22:17:09: 🔗 Client acquired from pool
2025-08-13T22:17:09: 🔓 Client released back to pool
2025-08-13T22:17:09: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:09: 🔗 Client acquired from pool
2025-08-13T22:17:09: 🔓 Client released back to pool
2025-08-13T22:17:14: 🔗 Client acquired from pool
2025-08-13T22:17:14: 🔓 Client released back to pool
2025-08-13T22:17:16: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:16: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 13,
  "shift_type": "night",
  "status": "present",
  "check_in_time": "22:17:14",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:16: 👤 User: admin
2025-08-13T22:17:16: 🔗 Client acquired from pool
2025-08-13T22:17:16: 🔓 Client released back to pool
2025-08-13T22:17:16: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:16: 🔗 Client acquired from pool
2025-08-13T22:17:16: 🔓 Client released back to pool
2025-08-13T22:17:17: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:17: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 9,
  "shift_type": "night",
  "status": "present",
  "check_in_time": "22:17:16",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:17: 👤 User: admin
2025-08-13T22:17:17: 🔗 Client acquired from pool
2025-08-13T22:17:17: 🔓 Client released back to pool
2025-08-13T22:17:17: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:17:17: 🔗 Client acquired from pool
2025-08-13T22:17:17: 🔓 Client released back to pool
2025-08-13T22:17:20: 🔗 Client acquired from pool
2025-08-13T22:17:20: 🔓 Client released back to pool
2025-08-13T22:17:33: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:33: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:33: 👤 User: admin
2025-08-13T22:17:33: 🔗 Client acquired from pool
2025-08-13T22:17:33: 🔓 Client released back to pool
2025-08-13T22:17:34: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:34: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:34: 👤 User: admin
2025-08-13T22:17:34: 🔗 Client acquired from pool
2025-08-13T22:17:34: 🔓 Client released back to pool
2025-08-13T22:17:36: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:17:36: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:17:32",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:17:36: 👤 User: admin
2025-08-13T22:17:36: 🔗 Client acquired from pool
2025-08-13T22:17:36: 🔓 Client released back to pool
2025-08-13T22:19:12: ✅ New PostgreSQL client connected
2025-08-13T22:19:12: 🔗 Client acquired from pool
2025-08-13T22:19:12: ✅ New PostgreSQL client connected
2025-08-13T22:19:12: 🔗 Client acquired from pool
2025-08-13T22:19:12: ✅ New PostgreSQL client connected
2025-08-13T22:19:12: 🔗 Client acquired from pool
2025-08-13T22:19:12: 🔓 Client released back to pool
2025-08-13T22:19:12: 🔓 Client released back to pool
2025-08-13T22:19:12: 🔓 Client released back to pool
2025-08-13T22:19:16: 🔗 Client acquired from pool
2025-08-13T22:19:16: 🔓 Client released back to pool
2025-08-13T22:19:16: 🔗 Client acquired from pool
2025-08-13T22:19:16: 🔓 Client released back to pool
2025-08-13T22:19:16: 🔗 Client acquired from pool
2025-08-13T22:19:16: 🔓 Client released back to pool
2025-08-13T22:19:17: 🔗 Client acquired from pool
2025-08-13T22:19:17: 🔓 Client released back to pool
2025-08-13T22:19:17: 🔗 Client acquired from pool
2025-08-13T22:19:17: 🔓 Client released back to pool
2025-08-13T22:19:17: 🔗 Client acquired from pool
2025-08-13T22:19:17: 🔓 Client released back to pool
2025-08-13T22:19:27: 🔗 Client acquired from pool
2025-08-13T22:19:27: 🔓 Client released back to pool
2025-08-13T22:19:27: 🔗 Client acquired from pool
2025-08-13T22:19:27: 🔓 Client released back to pool
2025-08-13T22:19:27: 🔗 Client acquired from pool
2025-08-13T22:19:27: 🔓 Client released back to pool
2025-08-13T22:19:28: 🔗 Client acquired from pool
2025-08-13T22:19:28: 🔓 Client released back to pool
2025-08-13T22:19:28: 🔗 Client acquired from pool
2025-08-13T22:19:28: 🔓 Client released back to pool
2025-08-13T22:19:28: 🔗 Client acquired from pool
2025-08-13T22:19:28: 🔓 Client released back to pool
2025-08-13T22:19:43: 🔗 Client acquired from pool
2025-08-13T22:19:43: 🔓 Client released back to pool
2025-08-13T22:19:54: 🔗 Client acquired from pool
2025-08-13T22:19:54: 🔓 Client released back to pool
2025-08-13T22:19:54: 🔗 Client acquired from pool
2025-08-13T22:19:54: 🔓 Client released back to pool
2025-08-13T22:19:54: ✅ New PostgreSQL client connected
2025-08-13T22:19:54: 🔗 Client acquired from pool
2025-08-13T22:19:54: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: ✅ New PostgreSQL client connected
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:56: 🔗 Client acquired from pool
2025-08-13T22:19:56: 🔓 Client released back to pool
2025-08-13T22:19:57: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:19:57: 🏠 admin joined room: production
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 🔗 Client acquired from pool
2025-08-13T22:19:57: 🔓 Client released back to pool
2025-08-13T22:19:57: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:19:57: 🏠 admin joined room: production
2025-08-13T22:20:03: 📺 admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: ✅ New PostgreSQL client connected
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: 🔗 Client acquired from pool
2025-08-13T22:20:03: 🔓 Client released back to pool
2025-08-13T22:20:03: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:20:03: 🏠 admin joined room: production
2025-08-13T22:20:09: 🔗 Client acquired from pool
2025-08-13T22:20:09: 🔗 Client acquired from pool
2025-08-13T22:20:09: 🔗 Client acquired from pool
2025-08-13T22:20:09: 🔗 Client acquired from pool
2025-08-13T22:20:09: 🔓 Client released back to pool
2025-08-13T22:20:09: 🔓 Client released back to pool
2025-08-13T22:20:09: 🔓 Client released back to pool
2025-08-13T22:20:09: 🔓 Client released back to pool
2025-08-13T22:20:14: 🔗 Client acquired from pool
2025-08-13T22:20:14: 🔗 Client acquired from pool
2025-08-13T22:20:14: 🔗 Client acquired from pool
2025-08-13T22:20:14: 🔗 Client acquired from pool
2025-08-13T22:20:14: 🔓 Client released back to pool
2025-08-13T22:20:14: 🔓 Client released back to pool
2025-08-13T22:20:14: 🔓 Client released back to pool
2025-08-13T22:20:14: 🔓 Client released back to pool
2025-08-13T22:20:19: 🔗 Client acquired from pool
2025-08-13T22:20:19: 🔗 Client acquired from pool
2025-08-13T22:20:19: 🔗 Client acquired from pool
2025-08-13T22:20:19: 🔗 Client acquired from pool
2025-08-13T22:20:19: 🔓 Client released back to pool
2025-08-13T22:20:19: 🔓 Client released back to pool
2025-08-13T22:20:19: 🔓 Client released back to pool
2025-08-13T22:20:19: 🔓 Client released back to pool
2025-08-13T22:20:23: 🔗 Client acquired from pool
2025-08-13T22:20:23: 🔗 Client acquired from pool
2025-08-13T22:20:23: 🔗 Client acquired from pool
2025-08-13T22:20:23: 🔗 Client acquired from pool
2025-08-13T22:20:23: 🔓 Client released back to pool
2025-08-13T22:20:23: 🔓 Client released back to pool
2025-08-13T22:20:23: 🔓 Client released back to pool
2025-08-13T22:20:23: 🔓 Client released back to pool
2025-08-13T22:20:28: 🔗 Client acquired from pool
2025-08-13T22:20:28: 🔗 Client acquired from pool
2025-08-13T22:20:28: 🔗 Client acquired from pool
2025-08-13T22:20:28: 🔗 Client acquired from pool
2025-08-13T22:20:28: 🔓 Client released back to pool
2025-08-13T22:20:28: 🔓 Client released back to pool
2025-08-13T22:20:28: 🔓 Client released back to pool
2025-08-13T22:20:28: 🔓 Client released back to pool
2025-08-13T22:20:34: 🔗 Client acquired from pool
2025-08-13T22:20:34: 🔗 Client acquired from pool
2025-08-13T22:20:34: 🔗 Client acquired from pool
2025-08-13T22:20:34: 🔗 Client acquired from pool
2025-08-13T22:20:34: 🔓 Client released back to pool
2025-08-13T22:20:34: 🔓 Client released back to pool
2025-08-13T22:20:34: 🔓 Client released back to pool
2025-08-13T22:20:34: 🔓 Client released back to pool
2025-08-13T22:20:39: 🔗 Client acquired from pool
2025-08-13T22:20:39: 🔗 Client acquired from pool
2025-08-13T22:20:39: 🔗 Client acquired from pool
2025-08-13T22:20:39: 🔗 Client acquired from pool
2025-08-13T22:20:39: 🔓 Client released back to pool
2025-08-13T22:20:39: 🔓 Client released back to pool
2025-08-13T22:20:39: 🔓 Client released back to pool
2025-08-13T22:20:39: 🔓 Client released back to pool
2025-08-13T22:20:44: 🔗 Client acquired from pool
2025-08-13T22:20:44: 🔗 Client acquired from pool
2025-08-13T22:20:44: 🔗 Client acquired from pool
2025-08-13T22:20:44: 🔗 Client acquired from pool
2025-08-13T22:20:44: 🔓 Client released back to pool
2025-08-13T22:20:44: 🔓 Client released back to pool
2025-08-13T22:20:44: 🔓 Client released back to pool
2025-08-13T22:20:44: 🔓 Client released back to pool
2025-08-13T22:20:49: 🔗 Client acquired from pool
2025-08-13T22:20:49: 🔗 Client acquired from pool
2025-08-13T22:20:49: 🔗 Client acquired from pool
2025-08-13T22:20:49: 🔗 Client acquired from pool
2025-08-13T22:20:49: 🔓 Client released back to pool
2025-08-13T22:20:49: 🔓 Client released back to pool
2025-08-13T22:20:49: 🔓 Client released back to pool
2025-08-13T22:20:49: 🔓 Client released back to pool
2025-08-13T22:20:54: 🔗 Client acquired from pool
2025-08-13T22:20:54: 🔗 Client acquired from pool
2025-08-13T22:20:54: 🔗 Client acquired from pool
2025-08-13T22:20:54: 🔗 Client acquired from pool
2025-08-13T22:20:54: 🔓 Client released back to pool
2025-08-13T22:20:54: 🔓 Client released back to pool
2025-08-13T22:20:54: 🔓 Client released back to pool
2025-08-13T22:20:54: 🔓 Client released back to pool
2025-08-13T22:20:59: 🔗 Client acquired from pool
2025-08-13T22:20:59: 🔗 Client acquired from pool
2025-08-13T22:20:59: 🔗 Client acquired from pool
2025-08-13T22:20:59: 🔗 Client acquired from pool
2025-08-13T22:20:59: 🔓 Client released back to pool
2025-08-13T22:20:59: 🔓 Client released back to pool
2025-08-13T22:20:59: 🔓 Client released back to pool
2025-08-13T22:20:59: 🔓 Client released back to pool
2025-08-13T22:21:04: 🔗 Client acquired from pool
2025-08-13T22:21:04: 🔗 Client acquired from pool
2025-08-13T22:21:04: 🔗 Client acquired from pool
2025-08-13T22:21:04: 🔗 Client acquired from pool
2025-08-13T22:21:04: 🔓 Client released back to pool
2025-08-13T22:21:04: 🔓 Client released back to pool
2025-08-13T22:21:04: 🔓 Client released back to pool
2025-08-13T22:21:04: 🔓 Client released back to pool
2025-08-13T22:21:09: 🔗 Client acquired from pool
2025-08-13T22:21:09: 🔗 Client acquired from pool
2025-08-13T22:21:09: 🔗 Client acquired from pool
2025-08-13T22:21:09: 🔗 Client acquired from pool
2025-08-13T22:21:09: 🔓 Client released back to pool
2025-08-13T22:21:09: 🔓 Client released back to pool
2025-08-13T22:21:09: 🔓 Client released back to pool
2025-08-13T22:21:09: 🔓 Client released back to pool
2025-08-13T22:21:14: 🔗 Client acquired from pool
2025-08-13T22:21:14: 🔗 Client acquired from pool
2025-08-13T22:21:14: 🔗 Client acquired from pool
2025-08-13T22:21:14: 🔗 Client acquired from pool
2025-08-13T22:21:14: 🔓 Client released back to pool
2025-08-13T22:21:14: 🔓 Client released back to pool
2025-08-13T22:21:14: 🔓 Client released back to pool
2025-08-13T22:21:14: 🔓 Client released back to pool
2025-08-13T22:21:19: 🔗 Client acquired from pool
2025-08-13T22:21:19: 🔗 Client acquired from pool
2025-08-13T22:21:19: 🔗 Client acquired from pool
2025-08-13T22:21:19: 🔗 Client acquired from pool
2025-08-13T22:21:19: 🔓 Client released back to pool
2025-08-13T22:21:19: 🔓 Client released back to pool
2025-08-13T22:21:19: 🔓 Client released back to pool
2025-08-13T22:21:19: 🔓 Client released back to pool
2025-08-13T22:21:24: 🔗 Client acquired from pool
2025-08-13T22:21:24: 🔗 Client acquired from pool
2025-08-13T22:21:24: 🔗 Client acquired from pool
2025-08-13T22:21:24: 🔗 Client acquired from pool
2025-08-13T22:21:24: 🔓 Client released back to pool
2025-08-13T22:21:24: 🔓 Client released back to pool
2025-08-13T22:21:24: 🔓 Client released back to pool
2025-08-13T22:21:24: 🔓 Client released back to pool
2025-08-13T22:21:37: 🔗 Client acquired from pool
2025-08-13T22:21:37: 🔗 Client acquired from pool
2025-08-13T22:21:37: 🔗 Client acquired from pool
2025-08-13T22:21:37: 🔗 Client acquired from pool
2025-08-13T22:21:37: 🔓 Client released back to pool
2025-08-13T22:21:37: 🔓 Client released back to pool
2025-08-13T22:21:37: 🔓 Client released back to pool
2025-08-13T22:21:37: 🔓 Client released back to pool
2025-08-13T22:22:37: ✅ New PostgreSQL client connected
2025-08-13T22:22:37: 🔗 Client acquired from pool
2025-08-13T22:22:37: ✅ New PostgreSQL client connected
2025-08-13T22:22:37: 🔗 Client acquired from pool
2025-08-13T22:22:37: 🔓 Client released back to pool
2025-08-13T22:22:37: ✅ New PostgreSQL client connected
2025-08-13T22:22:37: 🔗 Client acquired from pool
2025-08-13T22:22:37: ✅ New PostgreSQL client connected
2025-08-13T22:22:37: 🔗 Client acquired from pool
2025-08-13T22:22:37: 🔓 Client released back to pool
2025-08-13T22:22:37: 🔓 Client released back to pool
2025-08-13T22:22:37: 🔓 Client released back to pool
2025-08-13T22:23:37: ✅ New PostgreSQL client connected
2025-08-13T22:23:37: 🔗 Client acquired from pool
2025-08-13T22:23:37: ✅ New PostgreSQL client connected
2025-08-13T22:23:37: 🔗 Client acquired from pool
2025-08-13T22:23:37: 🔓 Client released back to pool
2025-08-13T22:23:37: ✅ New PostgreSQL client connected
2025-08-13T22:23:37: 🔗 Client acquired from pool
2025-08-13T22:23:37: ✅ New PostgreSQL client connected
2025-08-13T22:23:37: 🔗 Client acquired from pool
2025-08-13T22:23:37: 🔓 Client released back to pool
2025-08-13T22:23:37: 🔓 Client released back to pool
2025-08-13T22:23:37: 🔓 Client released back to pool
2025-08-13T22:23:57: 🔗 Client acquired from pool
2025-08-13T22:23:57: 🔗 Client acquired from pool
2025-08-13T22:23:57: 🔗 Client acquired from pool
2025-08-13T22:23:57: 🔗 Client acquired from pool
2025-08-13T22:23:57: 🔓 Client released back to pool
2025-08-13T22:23:57: 🔓 Client released back to pool
2025-08-13T22:23:57: 🔓 Client released back to pool
2025-08-13T22:23:57: 🔓 Client released back to pool
2025-08-13T22:23:58: 🔗 Client acquired from pool
2025-08-13T22:23:58: 🔗 Client acquired from pool
2025-08-13T22:23:58: 🔗 Client acquired from pool
2025-08-13T22:23:58: 🔗 Client acquired from pool
2025-08-13T22:23:58: 🔓 Client released back to pool
2025-08-13T22:23:58: 🔓 Client released back to pool
2025-08-13T22:23:58: 🔓 Client released back to pool
2025-08-13T22:23:58: 🔓 Client released back to pool
2025-08-13T22:24:04: 🔗 Client acquired from pool
2025-08-13T22:24:04: 🔗 Client acquired from pool
2025-08-13T22:24:04: 🔗 Client acquired from pool
2025-08-13T22:24:04: 🔗 Client acquired from pool
2025-08-13T22:24:04: 🔓 Client released back to pool
2025-08-13T22:24:04: 🔓 Client released back to pool
2025-08-13T22:24:04: 🔓 Client released back to pool
2025-08-13T22:24:04: 🔓 Client released back to pool
2025-08-13T22:24:09: 🔗 Client acquired from pool
2025-08-13T22:24:09: 🔗 Client acquired from pool
2025-08-13T22:24:09: 🔗 Client acquired from pool
2025-08-13T22:24:09: 🔗 Client acquired from pool
2025-08-13T22:24:09: 🔓 Client released back to pool
2025-08-13T22:24:09: 🔓 Client released back to pool
2025-08-13T22:24:09: 🔓 Client released back to pool
2025-08-13T22:24:09: 🔓 Client released back to pool
2025-08-13T22:24:14: 🔗 Client acquired from pool
2025-08-13T22:24:14: 🔗 Client acquired from pool
2025-08-13T22:24:14: 🔗 Client acquired from pool
2025-08-13T22:24:14: 🔗 Client acquired from pool
2025-08-13T22:24:14: 🔓 Client released back to pool
2025-08-13T22:24:14: 🔓 Client released back to pool
2025-08-13T22:24:14: 🔓 Client released back to pool
2025-08-13T22:24:14: 🔓 Client released back to pool
2025-08-13T22:24:19: 🔗 Client acquired from pool
2025-08-13T22:24:19: 🔗 Client acquired from pool
2025-08-13T22:24:19: 🔗 Client acquired from pool
2025-08-13T22:24:19: 🔗 Client acquired from pool
2025-08-13T22:24:19: 🔓 Client released back to pool
2025-08-13T22:24:19: 🔓 Client released back to pool
2025-08-13T22:24:19: 🔓 Client released back to pool
2025-08-13T22:24:19: 🔓 Client released back to pool
2025-08-13T22:24:24: 🔗 Client acquired from pool
2025-08-13T22:24:24: 🔗 Client acquired from pool
2025-08-13T22:24:24: 🔗 Client acquired from pool
2025-08-13T22:24:24: 🔗 Client acquired from pool
2025-08-13T22:24:24: 🔓 Client released back to pool
2025-08-13T22:24:24: 🔓 Client released back to pool
2025-08-13T22:24:24: 🔓 Client released back to pool
2025-08-13T22:24:24: 🔓 Client released back to pool
2025-08-13T22:24:29: 🔗 Client acquired from pool
2025-08-13T22:24:29: 🔗 Client acquired from pool
2025-08-13T22:24:29: 🔗 Client acquired from pool
2025-08-13T22:24:29: 🔗 Client acquired from pool
2025-08-13T22:24:29: 🔓 Client released back to pool
2025-08-13T22:24:29: 🔓 Client released back to pool
2025-08-13T22:24:29: 🔓 Client released back to pool
2025-08-13T22:24:29: 🔓 Client released back to pool
2025-08-13T22:24:34: 🔗 Client acquired from pool
2025-08-13T22:24:34: 🔗 Client acquired from pool
2025-08-13T22:24:34: 🔗 Client acquired from pool
2025-08-13T22:24:34: 🔗 Client acquired from pool
2025-08-13T22:24:34: 🔓 Client released back to pool
2025-08-13T22:24:34: 🔓 Client released back to pool
2025-08-13T22:24:34: 🔓 Client released back to pool
2025-08-13T22:24:34: 🔓 Client released back to pool
2025-08-13T22:24:39: 🔗 Client acquired from pool
2025-08-13T22:24:39: 🔗 Client acquired from pool
2025-08-13T22:24:39: 🔗 Client acquired from pool
2025-08-13T22:24:39: 🔗 Client acquired from pool
2025-08-13T22:24:39: 🔓 Client released back to pool
2025-08-13T22:24:39: 🔓 Client released back to pool
2025-08-13T22:24:39: 🔓 Client released back to pool
2025-08-13T22:24:39: 🔓 Client released back to pool
2025-08-13T22:24:44: 🔗 Client acquired from pool
2025-08-13T22:24:44: 🔗 Client acquired from pool
2025-08-13T22:24:44: 🔗 Client acquired from pool
2025-08-13T22:24:44: 🔗 Client acquired from pool
2025-08-13T22:24:44: 🔓 Client released back to pool
2025-08-13T22:24:44: 🔓 Client released back to pool
2025-08-13T22:24:44: 🔓 Client released back to pool
2025-08-13T22:24:44: 🔓 Client released back to pool
2025-08-13T22:24:49: 🔗 Client acquired from pool
2025-08-13T22:24:49: 🔗 Client acquired from pool
2025-08-13T22:24:49: 🔗 Client acquired from pool
2025-08-13T22:24:49: 🔗 Client acquired from pool
2025-08-13T22:24:49: 🔓 Client released back to pool
2025-08-13T22:24:49: 🔓 Client released back to pool
2025-08-13T22:24:49: 🔓 Client released back to pool
2025-08-13T22:24:49: 🔓 Client released back to pool
2025-08-13T22:24:54: 🔗 Client acquired from pool
2025-08-13T22:24:54: 🔗 Client acquired from pool
2025-08-13T22:24:54: 🔗 Client acquired from pool
2025-08-13T22:24:54: 🔗 Client acquired from pool
2025-08-13T22:24:54: 🔓 Client released back to pool
2025-08-13T22:24:54: 🔓 Client released back to pool
2025-08-13T22:24:54: 🔓 Client released back to pool
2025-08-13T22:24:54: 🔓 Client released back to pool
2025-08-13T22:25:37: ✅ New PostgreSQL client connected
2025-08-13T22:25:37: 🔗 Client acquired from pool
2025-08-13T22:25:37: 🔓 Client released back to pool
2025-08-13T22:25:37: ✅ New PostgreSQL client connected
2025-08-13T22:25:37: 🔗 Client acquired from pool
2025-08-13T22:25:37: ✅ New PostgreSQL client connected
2025-08-13T22:25:37: 🔗 Client acquired from pool
2025-08-13T22:25:37: ✅ New PostgreSQL client connected
2025-08-13T22:25:37: 🔗 Client acquired from pool
2025-08-13T22:25:37: 🔓 Client released back to pool
2025-08-13T22:25:37: 🔓 Client released back to pool
2025-08-13T22:25:37: 🔓 Client released back to pool
2025-08-13T22:26:20: ✅ New PostgreSQL client connected
2025-08-13T22:26:20: 🔗 Client acquired from pool
2025-08-13T22:26:20: 🔓 Client released back to pool
2025-08-13T22:26:20: ✅ New PostgreSQL client connected
2025-08-13T22:26:20: 🔗 Client acquired from pool
2025-08-13T22:26:20: 🔓 Client released back to pool
2025-08-13T22:26:20: ✅ New PostgreSQL client connected
2025-08-13T22:26:20: 🔗 Client acquired from pool
2025-08-13T22:26:20: ✅ New PostgreSQL client connected
2025-08-13T22:26:20: 🔗 Client acquired from pool
2025-08-13T22:26:20: 🔓 Client released back to pool
2025-08-13T22:26:20: 🔓 Client released back to pool
2025-08-13T22:26:21: 🔌 WebSocket disconnected: admin
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: New WebSocket connection attempt
2025-08-13T22:26:23: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:23: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:26:23: 🏠 admin joined room: production
2025-08-13T22:26:23: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:26:23: 🏠 admin joined room: production
2025-08-13T22:26:23: 🔗 Client acquired from pool
2025-08-13T22:26:23: 🔓 Client released back to pool
2025-08-13T22:26:27: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:27: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:25",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:27: 👤 User: admin
2025-08-13T22:26:27: 🔗 Client acquired from pool
2025-08-13T22:26:27: 🔓 Client released back to pool
2025-08-13T22:26:28: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:28: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:25",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:28: 👤 User: admin
2025-08-13T22:26:28: 🔗 Client acquired from pool
2025-08-13T22:26:28: 🔓 Client released back to pool
2025-08-13T22:26:30: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:30: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:26:28",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:30: 👤 User: admin
2025-08-13T22:26:30: 🔗 Client acquired from pool
2025-08-13T22:26:30: 🔓 Client released back to pool
2025-08-13T22:26:30: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:30: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:25",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:30: 👤 User: admin
2025-08-13T22:26:30: 🔗 Client acquired from pool
2025-08-13T22:26:30: 🔓 Client released back to pool
2025-08-13T22:26:31: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:31: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:26:28",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:31: 👤 User: admin
2025-08-13T22:26:31: 🔗 Client acquired from pool
2025-08-13T22:26:31: 🔓 Client released back to pool
2025-08-13T22:26:33: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:33: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:26:28",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:33: 👤 User: admin
2025-08-13T22:26:33: 🔗 Client acquired from pool
2025-08-13T22:26:33: 🔓 Client released back to pool
2025-08-13T22:26:37: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:37: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:36",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:37: 👤 User: admin
2025-08-13T22:26:37: 🔗 Client acquired from pool
2025-08-13T22:26:37: 🔓 Client released back to pool
2025-08-13T22:26:38: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:38: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:36",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:38: 👤 User: admin
2025-08-13T22:26:38: 🔗 Client acquired from pool
2025-08-13T22:26:38: 🔓 Client released back to pool
2025-08-13T22:26:40: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:40: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:36",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:40: 👤 User: admin
2025-08-13T22:26:40: 🔗 Client acquired from pool
2025-08-13T22:26:40: 🔓 Client released back to pool
2025-08-13T22:26:44: 🔌 WebSocket disconnected: admin
2025-08-13T22:26:45: 🔗 Client acquired from pool
2025-08-13T22:26:45: 🔓 Client released back to pool
2025-08-13T22:26:45: 🔗 Client acquired from pool
2025-08-13T22:26:45: 🔓 Client released back to pool
2025-08-13T22:26:45: 🔗 Client acquired from pool
2025-08-13T22:26:45: 🔓 Client released back to pool
2025-08-13T22:26:46: 🔗 Client acquired from pool
2025-08-13T22:26:46: 🔓 Client released back to pool
2025-08-13T22:26:46: New WebSocket connection attempt
2025-08-13T22:26:46: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:26:46: 🔗 Client acquired from pool
2025-08-13T22:26:46: 🔓 Client released back to pool
2025-08-13T22:26:46: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:26:46: 🏠 admin joined room: production
2025-08-13T22:26:48: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:48: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 30,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:47",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:48: 👤 User: admin
2025-08-13T22:26:48: 🔗 Client acquired from pool
2025-08-13T22:26:48: 🔓 Client released back to pool
2025-08-13T22:26:49: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:49: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 30,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:47",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:49: 👤 User: admin
2025-08-13T22:26:49: 🔗 Client acquired from pool
2025-08-13T22:26:49: 🔓 Client released back to pool
2025-08-13T22:26:51: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:26:51: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 30,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:26:47",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:26:51: 👤 User: admin
2025-08-13T22:26:51: 🔗 Client acquired from pool
2025-08-13T22:26:51: 🔓 Client released back to pool
2025-08-13T22:28:06: ✅ New PostgreSQL client connected
2025-08-13T22:28:06: 🔗 Client acquired from pool
2025-08-13T22:28:06: ✅ New PostgreSQL client connected
2025-08-13T22:28:06: 🔗 Client acquired from pool
2025-08-13T22:28:06: ✅ New PostgreSQL client connected
2025-08-13T22:28:06: 🔗 Client acquired from pool
2025-08-13T22:28:06: 🔓 Client released back to pool
2025-08-13T22:28:06: 🔓 Client released back to pool
2025-08-13T22:28:06: 🔓 Client released back to pool
2025-08-13T22:28:10: 🔗 Client acquired from pool
2025-08-13T22:28:10: 🔓 Client released back to pool
2025-08-13T22:28:12: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:28:12: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:28:11",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:28:12: 👤 User: admin
2025-08-13T22:28:12: 🔗 Client acquired from pool
2025-08-13T22:28:12: 🔓 Client released back to pool
2025-08-13T22:28:14: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:28:14: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:28:11",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:28:14: 👤 User: admin
2025-08-13T22:28:14: 🔗 Client acquired from pool
2025-08-13T22:28:14: 🔓 Client released back to pool
2025-08-13T22:28:16: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:28:16: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:28:11",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:28:16: 👤 User: admin
2025-08-13T22:28:16: 🔗 Client acquired from pool
2025-08-13T22:28:16: 🔓 Client released back to pool
2025-08-13T22:28:21: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 🔗 Client acquired from pool
2025-08-13T22:28:21: 🔓 Client released back to pool
2025-08-13T22:28:21: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:28:21: 🏠 admin joined room: production
2025-08-13T22:28:51: ✅ New PostgreSQL client connected
2025-08-13T22:28:51: 🔗 Client acquired from pool
2025-08-13T22:28:51: 🔓 Client released back to pool
2025-08-13T22:29:05: 🌐 WebSocket server initialized
2025-08-13T22:29:05: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:29:05: 🧪 Testing refactored components...
2025-08-13T22:29:05: 🚀 Production refactored server running on port 3000
2025-08-13T22:29:05: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:29:05: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:29:05: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:29:05: 🌐 WebSocket server initialized and ready
2025-08-13T22:29:05: ✅ New PostgreSQL client connected
2025-08-13T22:29:05: 🔗 Client acquired from pool
2025-08-13T22:29:05: 🔓 Client released back to pool
2025-08-13T22:29:05: ✅ Database connection: OK
2025-08-13T22:29:05: ✅ Authentication middleware: OK
2025-08-13T22:29:05: ✅ Response utilities: OK
2025-08-13T22:29:05: ✅ Database utilities: OK
2025-08-13T22:29:05: 🎉 All components tested successfully!
2025-08-13T22:29:05: ✅ All components tested successfully
2025-08-13T22:29:21: 🔗 Client acquired from pool
2025-08-13T22:29:21: 🔓 Client released back to pool
2025-08-13T22:29:51: 🔗 Client acquired from pool
2025-08-13T22:29:51: 🔓 Client released back to pool
2025-08-13T22:30:18: 🌐 WebSocket server initialized
2025-08-13T22:30:18: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:30:18: 🧪 Testing refactored components...
2025-08-13T22:30:18: 🚀 Production refactored server running on port 3000
2025-08-13T22:30:18: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:30:18: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:30:18: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:30:18: 🌐 WebSocket server initialized and ready
2025-08-13T22:30:18: ✅ New PostgreSQL client connected
2025-08-13T22:30:18: 🔗 Client acquired from pool
2025-08-13T22:30:18: 🔓 Client released back to pool
2025-08-13T22:30:18: ✅ Database connection: OK
2025-08-13T22:30:18: ✅ Authentication middleware: OK
2025-08-13T22:30:18: ✅ Response utilities: OK
2025-08-13T22:30:18: ✅ Database utilities: OK
2025-08-13T22:30:18: 🎉 All components tested successfully!
2025-08-13T22:30:18: ✅ All components tested successfully
2025-08-13T22:30:18: 🔗 Client acquired from pool
2025-08-13T22:30:18: 🔓 Client released back to pool
2025-08-13T22:30:20: 🔗 Client acquired from pool
2025-08-13T22:30:20: 🔓 Client released back to pool
2025-08-13T22:30:20: ✅ New PostgreSQL client connected
2025-08-13T22:30:20: 🔗 Client acquired from pool
2025-08-13T22:30:20: 🔓 Client released back to pool
2025-08-13T22:30:20: 🔗 Client acquired from pool
2025-08-13T22:30:20: 🔓 Client released back to pool
2025-08-13T22:30:31: 🔗 Client acquired from pool
2025-08-13T22:30:31: 🔓 Client released back to pool
2025-08-13T22:30:31: 🔗 Client acquired from pool
2025-08-13T22:30:31: 🔗 Client acquired from pool
2025-08-13T22:30:31: 🔓 Client released back to pool
2025-08-13T22:30:31: 🔓 Client released back to pool
2025-08-13T22:30:32: 🔗 Client acquired from pool
2025-08-13T22:30:32: 🔓 Client released back to pool
2025-08-13T22:30:32: 🔗 Client acquired from pool
2025-08-13T22:30:32: 🔓 Client released back to pool
2025-08-13T22:30:32: 🔗 Client acquired from pool
2025-08-13T22:30:32: 🔓 Client released back to pool
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: ✅ New PostgreSQL client connected
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: New WebSocket connection attempt
2025-08-13T22:30:35: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:30:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:30:35: 🏠 admin joined room: production
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: 🔗 Client acquired from pool
2025-08-13T22:30:35: 🔓 Client released back to pool
2025-08-13T22:30:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:30:35: 🏠 admin joined room: production
2025-08-13T22:30:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:30:35: 🏠 admin joined room: production
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 🔗 Client acquired from pool
2025-08-13T22:30:38: 🔓 Client released back to pool
2025-08-13T22:30:38: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:30:38: 🏠 admin joined room: production
2025-08-13T22:30:57: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:30:57: 🔗 Client acquired from pool
2025-08-13T22:30:57: 🔓 Client released back to pool
2025-08-13T22:30:57: 🔗 Client acquired from pool
2025-08-13T22:30:58: 🔗 Client acquired from pool
2025-08-13T22:30:58: 🔓 Client released back to pool
2025-08-13T22:30:58: 🔗 Client acquired from pool
2025-08-13T22:30:58: 🔓 Client released back to pool
2025-08-13T22:30:58: 🔗 Client acquired from pool
2025-08-13T22:30:58: 🔓 Client released back to pool
2025-08-13T22:30:58: 🔓 Client released back to pool
2025-08-13T22:30:58: 🔗 Client acquired from pool
2025-08-13T22:30:58: 🔓 Client released back to pool
2025-08-13T22:30:58: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:30:58: 🏠 admin joined room: production
2025-08-13T22:31:01: 🔗 Client acquired from pool
2025-08-13T22:31:01: 🔓 Client released back to pool
2025-08-13T22:31:04: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:31:04: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 24,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:31:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:31:04: 👤 User: admin
2025-08-13T22:31:04: 🔗 Client acquired from pool
2025-08-13T22:31:04: 🔓 Client released back to pool
2025-08-13T22:31:04: 🔗 Client acquired from pool
2025-08-13T22:31:04: 🔓 Client released back to pool
2025-08-13T22:31:04: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:31:04: 🔗 Client acquired from pool
2025-08-13T22:31:04: 🔓 Client released back to pool
2025-08-13T22:31:06: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:31:06: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:31:05",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:31:06: 👤 User: admin
2025-08-13T22:31:06: 🔗 Client acquired from pool
2025-08-13T22:31:06: 🔓 Client released back to pool
2025-08-13T22:31:06: 🔗 Client acquired from pool
2025-08-13T22:31:06: 🔓 Client released back to pool
2025-08-13T22:31:06: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:31:07: 🔗 Client acquired from pool
2025-08-13T22:31:07: 🔓 Client released back to pool
2025-08-13T22:31:11: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:31:11: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:31:10",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:31:11: 👤 User: admin
2025-08-13T22:31:11: 🔗 Client acquired from pool
2025-08-13T22:31:11: 🔓 Client released back to pool
2025-08-13T22:31:11: 🔗 Client acquired from pool
2025-08-13T22:31:11: 🔓 Client released back to pool
2025-08-13T22:31:11: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:31:11: 🔗 Client acquired from pool
2025-08-13T22:31:11: 🔓 Client released back to pool
2025-08-13T22:31:13: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:31:13: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:31:12",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:31:13: 👤 User: admin
2025-08-13T22:31:13: 🔗 Client acquired from pool
2025-08-13T22:31:13: 🔓 Client released back to pool
2025-08-13T22:31:13: 🔗 Client acquired from pool
2025-08-13T22:31:13: 🔓 Client released back to pool
2025-08-13T22:31:13: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:31:13: 🔗 Client acquired from pool
2025-08-13T22:31:13: 🔓 Client released back to pool
2025-08-13T22:31:16: 🔌 WebSocket disconnected: admin
2025-08-13T22:31:16: 🔗 Client acquired from pool
2025-08-13T22:31:16: 🔓 Client released back to pool
2025-08-13T22:31:16: 🔗 Client acquired from pool
2025-08-13T22:31:16: 🔓 Client released back to pool
2025-08-13T22:31:16: 🔗 Client acquired from pool
2025-08-13T22:31:16: 🔓 Client released back to pool
2025-08-13T22:31:16: 🔗 Client acquired from pool
2025-08-13T22:31:16: 🔓 Client released back to pool
2025-08-13T22:31:17: New WebSocket connection attempt
2025-08-13T22:31:17: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:31:17: 🔗 Client acquired from pool
2025-08-13T22:31:17: 🔓 Client released back to pool
2025-08-13T22:31:17: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:31:17: 🏠 admin joined room: production
2025-08-13T22:31:21: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:31:21: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:31:20",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:31:21: 👤 User: admin
2025-08-13T22:31:21: 🔗 Client acquired from pool
2025-08-13T22:31:21: 🔓 Client released back to pool
2025-08-13T22:31:21: 🔗 Client acquired from pool
2025-08-13T22:31:21: 🔓 Client released back to pool
2025-08-13T22:31:21: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:31:21: 🔗 Client acquired from pool
2025-08-13T22:31:21: 🔓 Client released back to pool
2025-08-13T22:31:59: ✅ New PostgreSQL client connected
2025-08-13T22:31:59: 🔗 Client acquired from pool
2025-08-13T22:31:59: 🔓 Client released back to pool
2025-08-13T22:31:59: 🔗 Client acquired from pool
2025-08-13T22:31:59: 🔓 Client released back to pool
2025-08-13T22:31:59: 🔗 Client acquired from pool
2025-08-13T22:31:59: 🔓 Client released back to pool
2025-08-13T22:32:06: 🔗 Client acquired from pool
2025-08-13T22:32:06: 🔓 Client released back to pool
2025-08-13T22:32:06: 🔗 Client acquired from pool
2025-08-13T22:32:06: 🔓 Client released back to pool
2025-08-13T22:32:06: ✅ New PostgreSQL client connected
2025-08-13T22:32:06: 🔗 Client acquired from pool
2025-08-13T22:32:06: 🔓 Client released back to pool
2025-08-13T22:32:06: 🔗 Client acquired from pool
2025-08-13T22:32:06: 🔓 Client released back to pool
2025-08-13T22:32:08: 🔗 Client acquired from pool
2025-08-13T22:32:08: 🔓 Client released back to pool
2025-08-13T22:32:13: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:32:13: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 22,
  "employee_id": 6,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:32:11",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:32:13: 👤 User: admin
2025-08-13T22:32:13: 🔗 Client acquired from pool
2025-08-13T22:32:13: 🔓 Client released back to pool
2025-08-13T22:32:13: 🔗 Client acquired from pool
2025-08-13T22:32:13: 🔓 Client released back to pool
2025-08-13T22:32:13: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:32:13: 🔗 Client acquired from pool
2025-08-13T22:32:13: 🔓 Client released back to pool
2025-08-13T22:32:15: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:32:15: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:32:14",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:32:15: 👤 User: admin
2025-08-13T22:32:15: 🔗 Client acquired from pool
2025-08-13T22:32:15: 🔓 Client released back to pool
2025-08-13T22:32:15: 🔗 Client acquired from pool
2025-08-13T22:32:15: 🔓 Client released back to pool
2025-08-13T22:32:15: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:32:15: 🔗 Client acquired from pool
2025-08-13T22:32:15: 🔓 Client released back to pool
2025-08-13T22:32:17: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:32:17: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:32:16",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:32:17: 👤 User: admin
2025-08-13T22:32:17: 🔗 Client acquired from pool
2025-08-13T22:32:17: 🔓 Client released back to pool
2025-08-13T22:32:17: 🔗 Client acquired from pool
2025-08-13T22:32:17: 🔓 Client released back to pool
2025-08-13T22:32:17: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:32:17: 🔗 Client acquired from pool
2025-08-13T22:32:17: 🔓 Client released back to pool
2025-08-13T22:32:21: 🔗 Client acquired from pool
2025-08-13T22:32:21: 🔓 Client released back to pool
2025-08-13T22:32:22: 🔗 Client acquired from pool
2025-08-13T22:32:22: 🔓 Client released back to pool
2025-08-13T22:32:24: 🔗 Client acquired from pool
2025-08-13T22:32:24: 🔓 Client released back to pool
2025-08-13T22:32:26: 🔗 Client acquired from pool
2025-08-13T22:32:26: 🔓 Client released back to pool
2025-08-13T22:32:29: 🔗 Client acquired from pool
2025-08-13T22:32:29: 🔓 Client released back to pool
2025-08-13T22:32:29: 🔗 Client acquired from pool
2025-08-13T22:32:29: 🔓 Client released back to pool
2025-08-13T22:32:29: 🔗 Client acquired from pool
2025-08-13T22:32:29: 🔓 Client released back to pool
2025-08-13T22:32:32: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 🔗 Client acquired from pool
2025-08-13T22:32:32: 🔓 Client released back to pool
2025-08-13T22:32:32: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:32:32: 🏠 admin joined room: production
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 🔗 Client acquired from pool
2025-08-13T22:32:33: 🔓 Client released back to pool
2025-08-13T22:32:33: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:32:33: 🏠 admin joined room: production
2025-08-13T22:32:36: 🔗 Client acquired from pool
2025-08-13T22:32:36: 🔓 Client released back to pool
2025-08-13T22:32:57: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:32:57: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:32:56",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:32:57: 👤 User: admin
2025-08-13T22:32:57: 🔗 Client acquired from pool
2025-08-13T22:32:57: 🔓 Client released back to pool
2025-08-13T22:32:57: 🔗 Client acquired from pool
2025-08-13T22:32:57: 🔓 Client released back to pool
2025-08-13T22:32:57: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:32:57: 🔗 Client acquired from pool
2025-08-13T22:32:57: 🔓 Client released back to pool
2025-08-13T22:33:41: ✅ New PostgreSQL client connected
2025-08-13T22:33:41: 🔗 Client acquired from pool
2025-08-13T22:33:41: 🔓 Client released back to pool
2025-08-13T22:33:41: 🔗 Client acquired from pool
2025-08-13T22:33:41: 🔓 Client released back to pool
2025-08-13T22:33:41: 🔗 Client acquired from pool
2025-08-13T22:33:41: 🔓 Client released back to pool
2025-08-13T22:33:42: 🔗 Client acquired from pool
2025-08-13T22:33:42: 🔓 Client released back to pool
2025-08-13T22:33:42: 🔗 Client acquired from pool
2025-08-13T22:33:42: 🔓 Client released back to pool
2025-08-13T22:33:42: ✅ New PostgreSQL client connected
2025-08-13T22:33:42: 🔗 Client acquired from pool
2025-08-13T22:33:42: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 🔗 Client acquired from pool
2025-08-13T22:33:44: 🔓 Client released back to pool
2025-08-13T22:33:44: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:33:44: 🏠 admin joined room: production
2025-08-13T22:33:47: 🔗 Client acquired from pool
2025-08-13T22:33:47: 🔓 Client released back to pool
2025-08-13T22:37:22: 🌐 WebSocket server initialized
2025-08-13T22:37:22: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:37:22: 🧪 Testing refactored components...
2025-08-13T22:37:22: 🚀 Production refactored server running on port 3000
2025-08-13T22:37:22: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:37:22: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:37:22: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:37:22: 🌐 WebSocket server initialized and ready
2025-08-13T22:37:22: ✅ New PostgreSQL client connected
2025-08-13T22:37:22: 🔗 Client acquired from pool
2025-08-13T22:37:22: 🔓 Client released back to pool
2025-08-13T22:37:22: ✅ Database connection: OK
2025-08-13T22:37:22: ✅ Authentication middleware: OK
2025-08-13T22:37:22: ✅ Response utilities: OK
2025-08-13T22:37:22: ✅ Database utilities: OK
2025-08-13T22:37:22: 🎉 All components tested successfully!
2025-08-13T22:37:22: ✅ All components tested successfully
2025-08-13T22:38:35: ✅ New PostgreSQL client connected
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: ✅ New PostgreSQL client connected
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: New WebSocket connection attempt
2025-08-13T22:38:35: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 🔗 Client acquired from pool
2025-08-13T22:38:35: 🔓 Client released back to pool
2025-08-13T22:38:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:38:35: 🏠 admin joined room: production
2025-08-13T22:38:35: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:38:35: 🏠 admin joined room: production
2025-08-13T22:38:36: 🔗 Client acquired from pool
2025-08-13T22:38:36: 🔓 Client released back to pool
2025-08-13T22:38:38: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:38:38: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:38:37",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:38:38: 👤 User: admin
2025-08-13T22:38:38: 🔗 Client acquired from pool
2025-08-13T22:38:38: 🔓 Client released back to pool
2025-08-13T22:38:38: 🔗 Client acquired from pool
2025-08-13T22:38:38: 🔓 Client released back to pool
2025-08-13T22:38:38: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:38:38: 🔗 Client acquired from pool
2025-08-13T22:38:38: 🔓 Client released back to pool
2025-08-13T22:38:40: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:38:40: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 56,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:38:39",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:38:40: 👤 User: admin
2025-08-13T22:38:40: 🔗 Client acquired from pool
2025-08-13T22:38:40: 🔓 Client released back to pool
2025-08-13T22:38:40: 🔗 Client acquired from pool
2025-08-13T22:38:40: 🔓 Client released back to pool
2025-08-13T22:38:40: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:38:41: 🔗 Client acquired from pool
2025-08-13T22:38:41: 🔓 Client released back to pool
2025-08-13T22:38:43: 🔌 WebSocket disconnected: admin
2025-08-13T22:38:43: 🔗 Client acquired from pool
2025-08-13T22:38:43: 🔗 Client acquired from pool
2025-08-13T22:38:43: 🔓 Client released back to pool
2025-08-13T22:38:43: 🔓 Client released back to pool
2025-08-13T22:38:43: 🔗 Client acquired from pool
2025-08-13T22:38:43: 🔓 Client released back to pool
2025-08-13T22:38:43: 🔗 Client acquired from pool
2025-08-13T22:38:43: 🔓 Client released back to pool
2025-08-13T22:38:43: New WebSocket connection attempt
2025-08-13T22:38:43: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:38:43: 🔗 Client acquired from pool
2025-08-13T22:38:43: 🔓 Client released back to pool
2025-08-13T22:38:43: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:38:43: 🏠 admin joined room: production
2025-08-13T22:38:50: 🔌 WebSocket disconnected: admin
2025-08-13T22:38:51: 🔗 Client acquired from pool
2025-08-13T22:38:51: 🔓 Client released back to pool
2025-08-13T22:38:51: 🔗 Client acquired from pool
2025-08-13T22:38:51: 🔓 Client released back to pool
2025-08-13T22:38:51: 🔗 Client acquired from pool
2025-08-13T22:38:51: 🔓 Client released back to pool
2025-08-13T22:38:51: 🔗 Client acquired from pool
2025-08-13T22:38:51: 🔓 Client released back to pool
2025-08-13T22:38:51: New WebSocket connection attempt
2025-08-13T22:38:51: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:38:51: 🔗 Client acquired from pool
2025-08-13T22:38:51: 🔓 Client released back to pool
2025-08-13T22:38:51: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:38:52: 🏠 admin joined room: production
2025-08-13T22:38:53: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:38:53: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 11,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:38:52",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:38:53: 👤 User: admin
2025-08-13T22:38:53: 🔗 Client acquired from pool
2025-08-13T22:38:53: 🔓 Client released back to pool
2025-08-13T22:38:53: 🔗 Client acquired from pool
2025-08-13T22:38:53: 🔓 Client released back to pool
2025-08-13T22:38:53: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:38:54: 🔗 Client acquired from pool
2025-08-13T22:38:54: 🔓 Client released back to pool
2025-08-13T22:39:34: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:39:34: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:39:33",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:39:34: 👤 User: admin
2025-08-13T22:39:34: ✅ New PostgreSQL client connected
2025-08-13T22:39:34: 🔗 Client acquired from pool
2025-08-13T22:39:34: 🔓 Client released back to pool
2025-08-13T22:39:34: 🔗 Client acquired from pool
2025-08-13T22:39:34: 🔓 Client released back to pool
2025-08-13T22:39:34: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:39:34: 🔗 Client acquired from pool
2025-08-13T22:39:34: 🔓 Client released back to pool
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: ✅ New PostgreSQL client connected
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: ✅ New PostgreSQL client connected
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: 🔗 Client acquired from pool
2025-08-13T22:39:54: 🔓 Client released back to pool
2025-08-13T22:39:54: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:39:54: 🏠 admin joined room: production
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 🔗 Client acquired from pool
2025-08-13T22:39:57: 🔓 Client released back to pool
2025-08-13T22:39:57: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:39:57: 🏠 admin joined room: production
2025-08-13T22:39:58: 🔗 Client acquired from pool
2025-08-13T22:39:58: 🔓 Client released back to pool
2025-08-13T22:39:58: 🔗 Client acquired from pool
2025-08-13T22:39:58: 🔓 Client released back to pool
2025-08-13T22:39:58: 🔗 Client acquired from pool
2025-08-13T22:39:58: 🔓 Client released back to pool
2025-08-13T22:40:45: ✅ New PostgreSQL client connected
2025-08-13T22:40:45: 🔗 Client acquired from pool
2025-08-13T22:40:45: 🔓 Client released back to pool
2025-08-13T22:40:45: ✅ New PostgreSQL client connected
2025-08-13T22:40:45: 🔗 Client acquired from pool
2025-08-13T22:40:45: 🔓 Client released back to pool
2025-08-13T22:40:45: 🔗 Client acquired from pool
2025-08-13T22:40:45: 🔓 Client released back to pool
2025-08-13T22:40:49: 🔗 Client acquired from pool
2025-08-13T22:40:49: 🔓 Client released back to pool
2025-08-13T22:41:18: 🌐 WebSocket server initialized
2025-08-13T22:41:18: 🧹 WebSocket cleanup scheduler started
2025-08-13T22:41:18: 🧪 Testing refactored components...
2025-08-13T22:41:18: 🚀 Production refactored server running on port 3000
2025-08-13T22:41:18: 📊 Health check: http://localhost:3000/api/health
2025-08-13T22:41:18: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T22:41:18: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T22:41:18: 🌐 WebSocket server initialized and ready
2025-08-13T22:41:18: ✅ New PostgreSQL client connected
2025-08-13T22:41:18: 🔗 Client acquired from pool
2025-08-13T22:41:18: 🔓 Client released back to pool
2025-08-13T22:41:18: ✅ Database connection: OK
2025-08-13T22:41:18: ✅ Authentication middleware: OK
2025-08-13T22:41:18: ✅ Response utilities: OK
2025-08-13T22:41:18: ✅ Database utilities: OK
2025-08-13T22:41:18: 🎉 All components tested successfully!
2025-08-13T22:41:18: ✅ All components tested successfully
2025-08-13T22:41:43: 🔗 Client acquired from pool
2025-08-13T22:41:43: 🔓 Client released back to pool
2025-08-13T22:41:43: ✅ New PostgreSQL client connected
2025-08-13T22:41:43: 🔗 Client acquired from pool
2025-08-13T22:41:43: 🔓 Client released back to pool
2025-08-13T22:41:44: New WebSocket connection attempt
2025-08-13T22:41:44: ✅ WebSocket authenticated: admin (admin)
2025-08-13T22:41:44: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:41:44: 🏠 admin joined room: production
2025-08-13T22:41:44: 🔗 Client acquired from pool
2025-08-13T22:41:44: 🔓 Client released back to pool
2025-08-13T22:41:44: 🔗 Client acquired from pool
2025-08-13T22:41:44: 🔓 Client released back to pool
2025-08-13T22:41:44: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:41:44: 🏠 admin joined room: production
2025-08-13T22:41:44: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:41:44: 🏠 admin joined room: production
2025-08-13T22:41:44: 🔗 Client acquired from pool
2025-08-13T22:41:44: 🔗 Client acquired from pool
2025-08-13T22:41:44: 🔓 Client released back to pool
2025-08-13T22:41:44: 🔗 Client acquired from pool
2025-08-13T22:41:44: 🔓 Client released back to pool
2025-08-13T22:41:44: 🔓 Client released back to pool
2025-08-13T22:41:49: 🔗 Client acquired from pool
2025-08-13T22:41:49: 🔓 Client released back to pool
2025-08-13T22:41:49: 🔗 Transaction client acquired from pool
2025-08-13T22:41:49: 🔓 Transaction client released back to pool
2025-08-13T22:41:49: 📡 Broadcast sent: order_stopped to channel: production (1 clients)
2025-08-13T22:41:49: 🔗 Client acquired from pool
2025-08-13T22:41:49: 🔓 Client released back to pool
2025-08-13T22:41:49: 🔗 Client acquired from pool
2025-08-13T22:41:49: 🔓 Client released back to pool
2025-08-13T22:41:49: 🔗 Client acquired from pool
2025-08-13T22:41:49: 🔓 Client released back to pool
2025-08-13T22:41:49: 🔗 Client acquired from pool
2025-08-13T22:41:49: 🔓 Client released back to pool
2025-08-13T22:41:53: 📺 admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:53: ✅ New PostgreSQL client connected
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: ✅ New PostgreSQL client connected
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:53: 🔗 Client acquired from pool
2025-08-13T22:41:53: 🔓 Client released back to pool
2025-08-13T22:41:54: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:41:54: 🏠 admin joined room: production
2025-08-13T22:41:56: 📺 admin subscribed to: [ 'production', 'machines' ]
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:56: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:41:56: 🏠 admin joined room: production
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:56: ✅ New PostgreSQL client connected
2025-08-13T22:41:56: 🔗 Client acquired from pool
2025-08-13T22:41:56: 🔓 Client released back to pool
2025-08-13T22:41:58: 🔗 Client acquired from pool
2025-08-13T22:41:58: 🔓 Client released back to pool
2025-08-13T22:41:58: 🔗 Client acquired from pool
2025-08-13T22:41:58: 🔗 Client acquired from pool
2025-08-13T22:41:58: 🔗 Client acquired from pool
2025-08-13T22:41:58: 🔓 Client released back to pool
2025-08-13T22:41:58: 🔓 Client released back to pool
2025-08-13T22:41:58: 🔓 Client released back to pool
2025-08-13T22:42:01: 🔗 Client acquired from pool
2025-08-13T22:42:01: 🔗 Client acquired from pool
2025-08-13T22:42:01: 🔗 Client acquired from pool
2025-08-13T22:42:01: 🔗 Client acquired from pool
2025-08-13T22:42:01: 🔓 Client released back to pool
2025-08-13T22:42:01: 🔓 Client released back to pool
2025-08-13T22:42:01: 🔓 Client released back to pool
2025-08-13T22:42:01: 🔓 Client released back to pool
2025-08-13T22:42:06: 🔗 Client acquired from pool
2025-08-13T22:42:06: 🔗 Client acquired from pool
2025-08-13T22:42:06: 🔗 Client acquired from pool
2025-08-13T22:42:06: 🔗 Client acquired from pool
2025-08-13T22:42:06: 🔓 Client released back to pool
2025-08-13T22:42:06: 🔓 Client released back to pool
2025-08-13T22:42:06: 🔓 Client released back to pool
2025-08-13T22:42:06: 🔓 Client released back to pool
2025-08-13T22:42:11: 🔗 Client acquired from pool
2025-08-13T22:42:11: 🔗 Client acquired from pool
2025-08-13T22:42:11: 🔗 Client acquired from pool
2025-08-13T22:42:11: 🔗 Client acquired from pool
2025-08-13T22:42:11: 🔓 Client released back to pool
2025-08-13T22:42:11: 🔓 Client released back to pool
2025-08-13T22:42:11: 🔓 Client released back to pool
2025-08-13T22:42:11: 🔓 Client released back to pool
2025-08-13T22:42:14: 🔗 Client acquired from pool
2025-08-13T22:42:14: 🔓 Client released back to pool
2025-08-13T22:42:14: 🔗 Client acquired from pool
2025-08-13T22:42:14: 🔓 Client released back to pool
2025-08-13T22:42:14: 🔗 Client acquired from pool
2025-08-13T22:42:14: 🔓 Client released back to pool
2025-08-13T22:42:16: 🔗 Client acquired from pool
2025-08-13T22:42:16: 🔓 Client released back to pool
2025-08-13T22:42:16: 🔗 Client acquired from pool
2025-08-13T22:42:16: 🔓 Client released back to pool
2025-08-13T22:42:16: 🔗 Client acquired from pool
2025-08-13T22:42:16: 🔓 Client released back to pool
2025-08-13T22:42:18: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 🔗 Client acquired from pool
2025-08-13T22:42:18: 🔓 Client released back to pool
2025-08-13T22:42:18: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:42:18: 🏠 admin joined room: production
2025-08-13T22:42:48: ✅ New PostgreSQL client connected
2025-08-13T22:42:48: 🔗 Client acquired from pool
2025-08-13T22:42:48: 🔓 Client released back to pool
2025-08-13T22:43:18: 🔗 Client acquired from pool
2025-08-13T22:43:18: 🔓 Client released back to pool
2025-08-13T22:43:37: 🔗 Client acquired from pool
2025-08-13T22:43:37: 🔓 Client released back to pool
2025-08-13T22:43:46: 🔗 Client acquired from pool
2025-08-13T22:43:46: 🔓 Client released back to pool
2025-08-13T22:43:51: 🔗 Client acquired from pool
2025-08-13T22:43:51: 🔓 Client released back to pool
2025-08-13T22:44:04: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: ✅ New PostgreSQL client connected
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: ✅ New PostgreSQL client connected
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: ✅ New PostgreSQL client connected
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: 🔗 Client acquired from pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: 🔓 Client released back to pool
2025-08-13T22:44:04: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:44:04: 🏠 admin joined room: production
2025-08-13T22:44:34: 🔗 Client acquired from pool
2025-08-13T22:44:34: 🔓 Client released back to pool
2025-08-13T22:45:05: ✅ New PostgreSQL client connected
2025-08-13T22:45:05: 🔗 Client acquired from pool
2025-08-13T22:45:05: 🔓 Client released back to pool
2025-08-13T22:45:35: 🔗 Client acquired from pool
2025-08-13T22:45:35: 🔓 Client released back to pool
2025-08-13T22:46:05: ✅ New PostgreSQL client connected
2025-08-13T22:46:05: 🔗 Client acquired from pool
2025-08-13T22:46:05: 🔓 Client released back to pool
2025-08-13T22:46:35: 🔗 Client acquired from pool
2025-08-13T22:46:35: 🔓 Client released back to pool
2025-08-13T22:47:05: ✅ New PostgreSQL client connected
2025-08-13T22:47:05: 🔗 Client acquired from pool
2025-08-13T22:47:05: 🔓 Client released back to pool
2025-08-13T22:47:37: ✅ New PostgreSQL client connected
2025-08-13T22:47:37: 🔗 Client acquired from pool
2025-08-13T22:47:37: 🔓 Client released back to pool
2025-08-13T22:48:37: ✅ New PostgreSQL client connected
2025-08-13T22:48:37: 🔗 Client acquired from pool
2025-08-13T22:48:37: 🔓 Client released back to pool
2025-08-13T22:48:59: 🔗 Client acquired from pool
2025-08-13T22:48:59: 🔓 Client released back to pool
2025-08-13T22:49:01: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:49:01: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 10,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:49:00",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:49:01: 👤 User: admin
2025-08-13T22:49:01: 🔗 Client acquired from pool
2025-08-13T22:49:01: 🔓 Client released back to pool
2025-08-13T22:49:01: 🔗 Client acquired from pool
2025-08-13T22:49:01: 🔓 Client released back to pool
2025-08-13T22:49:01: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:49:01: 🔗 Client acquired from pool
2025-08-13T22:49:01: 🔓 Client released back to pool
2025-08-13T22:49:03: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:49:03: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": 23,
  "employee_id": 10,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:49:02",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:49:03: 👤 User: admin
2025-08-13T22:49:03: 🔗 Client acquired from pool
2025-08-13T22:49:03: 🔓 Client released back to pool
2025-08-13T22:49:03: 🔗 Client acquired from pool
2025-08-13T22:49:03: 🔓 Client released back to pool
2025-08-13T22:49:03: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:49:03: 🔗 Client acquired from pool
2025-08-13T22:49:03: 🔓 Client released back to pool
2025-08-13T22:49:06: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:49:06: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "absent",
  "check_in_time": "22:49:05",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:49:06: 👤 User: admin
2025-08-13T22:49:06: 🔗 Client acquired from pool
2025-08-13T22:49:06: 🔓 Client released back to pool
2025-08-13T22:49:06: 🔗 Client acquired from pool
2025-08-13T22:49:06: 🔓 Client released back to pool
2025-08-13T22:49:06: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:49:06: 🔗 Client acquired from pool
2025-08-13T22:49:06: 🔓 Client released back to pool
2025-08-13T22:49:07: 🔍 ATTENDANCE POST DEBUG:
2025-08-13T22:49:07: 📝 Request body: {
  "date": "2025-08-13",
  "machine_id": null,
  "employee_id": 25,
  "shift_type": "day",
  "status": "present",
  "check_in_time": "22:49:06",
  "notes": "",
  "marked_by": 4
}
2025-08-13T22:49:07: 👤 User: admin
2025-08-13T22:49:07: 🔗 Client acquired from pool
2025-08-13T22:49:07: 🔓 Client released back to pool
2025-08-13T22:49:07: 🔗 Client acquired from pool
2025-08-13T22:49:07: 🔓 Client released back to pool
2025-08-13T22:49:07: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T22:49:08: 🔗 Client acquired from pool
2025-08-13T22:49:08: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:10: 🔗 Client acquired from pool
2025-08-13T22:49:10: 🔓 Client released back to pool
2025-08-13T22:49:22: 📺 admin subscribed to: [ 'machines', 'production' ]
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: ✅ New PostgreSQL client connected
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: ✅ New PostgreSQL client connected
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: 🔗 Client acquired from pool
2025-08-13T22:49:22: 🔓 Client released back to pool
2025-08-13T22:49:22: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T22:49:22: 🏠 admin joined room: production
2025-08-13T22:49:52: 🔗 Client acquired from pool
2025-08-13T22:49:52: 🔓 Client released back to pool
