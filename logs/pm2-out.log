2025-08-13T13:43:05: ✅ New PostgreSQL client connected
2025-08-13T13:43:05: 🔗 Client acquired from pool
2025-08-13T13:43:05: 🔓 Client released back to pool
2025-08-13T13:43:05: 🔗 Client acquired from pool
2025-08-13T13:43:05: 🔓 Client released back to pool
2025-08-13T13:43:05: ✅ Auth success: admin from ::ffff:127.0.0.1 - curl/8.5.0
2025-08-13T13:43:05: 🔗 Client acquired from pool
2025-08-13T13:43:05: 🔓 Client released back to pool
2025-08-13T13:43:05: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T14:14:03: 🔌 WebSocket disconnected: admin
2025-08-13T14:14:05: ✅ New PostgreSQL client connected
2025-08-13T14:14:05: 🔗 Client acquired from pool
2025-08-13T14:14:05: 🔓 Client released back to pool
2025-08-13T14:14:05: ✅ New PostgreSQL client connected
2025-08-13T14:14:05: 🔗 Client acquired from pool
2025-08-13T14:14:05: 🔓 Client released back to pool
2025-08-13T14:14:05: 🔗 Client acquired from pool
2025-08-13T14:14:05: 🔓 Client released back to pool
2025-08-13T14:14:05: New WebSocket connection attempt
2025-08-13T14:14:05: ✅ WebSocket authenticated: admin (admin)
2025-08-13T14:14:05: 🔗 Client acquired from pool
2025-08-13T14:14:05: 🔗 Client acquired from pool
2025-08-13T14:14:05: 🔓 Client released back to pool
2025-08-13T14:14:05: 🔓 Client released back to pool
2025-08-13T14:14:05: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T14:14:05: 🏠 admin joined room: production
2025-08-13T14:14:51: ✅ New PostgreSQL client connected
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: ✅ Auth success: admin from ::ffff:127.0.0.1 - Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: ✅ New PostgreSQL client connected
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: ✅ New PostgreSQL client connected
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: ✅ New PostgreSQL client connected
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: New WebSocket connection attempt
2025-08-13T14:14:51: ✅ WebSocket authenticated: admin (admin)
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 🔗 Client acquired from pool
2025-08-13T14:14:51: 🔓 Client released back to pool
2025-08-13T14:14:51: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T14:14:51: 🏠 admin joined room: production
2025-08-13T14:14:51: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T14:14:51: 🏠 admin joined room: production
2025-08-13T14:14:53: 🔗 Client acquired from pool
2025-08-13T14:14:53: 🔓 Client released back to pool
2025-08-13T14:16:46: 🔌 WebSocket disconnected: admin
2025-08-13T15:09:37: 🔌 WebSocket disconnected: admin
2025-08-13T15:27:09: ✅ New PostgreSQL client connected
2025-08-13T15:27:09: 🔗 Client acquired from pool
2025-08-13T15:27:09: 🔓 Client released back to pool
2025-08-13T15:27:09: 🔗 Client acquired from pool
2025-08-13T15:27:09: 🔓 Client released back to pool
2025-08-13T15:27:09: ✅ Auth success: admin from ::ffff:127.0.0.1 - Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36 Edg/139.0.0.0
2025-08-13T15:27:09: 🔗 Client acquired from pool
2025-08-13T15:27:09: 🔓 Client released back to pool
2025-08-13T15:27:09: New WebSocket connection attempt
2025-08-13T15:27:09: ✅ WebSocket authenticated: admin (admin)
2025-08-13T15:27:10: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T15:27:10: 🏠 admin joined room: production
2025-08-13T15:27:10: 🔗 Client acquired from pool
2025-08-13T15:27:10: 🔓 Client released back to pool
2025-08-13T15:27:10: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T15:27:10: 🏠 admin joined room: production
2025-08-13T15:28:13: ✅ New PostgreSQL client connected
2025-08-13T15:28:13: 🔗 Client acquired from pool
2025-08-13T15:28:13: 🔓 Client released back to pool
2025-08-13T15:28:13: 🔗 Client acquired from pool
2025-08-13T15:28:13: 🔓 Client released back to pool
2025-08-13T15:28:13: ✅ New PostgreSQL client connected
2025-08-13T15:28:13: 🔗 Client acquired from pool
2025-08-13T15:28:13: 🔓 Client released back to pool
2025-08-13T15:28:18: 🔗 Client acquired from pool
2025-08-13T15:28:18: 🔓 Client released back to pool
2025-08-13T15:28:18: 🔗 Client acquired from pool
2025-08-13T15:28:18: 🔓 Client released back to pool
2025-08-13T15:28:18: 🔗 Client acquired from pool
2025-08-13T15:28:18: 🔓 Client released back to pool
2025-08-13T15:28:22: 🔗 Client acquired from pool
2025-08-13T15:28:22: 🔓 Client released back to pool
2025-08-13T15:28:22: 🔗 Client acquired from pool
2025-08-13T15:28:22: 🔓 Client released back to pool
2025-08-13T15:28:22: 🔗 Client acquired from pool
2025-08-13T15:28:22: 🔓 Client released back to pool
2025-08-13T15:28:23: 🔗 Client acquired from pool
2025-08-13T15:28:23: 🔗 Client acquired from pool
2025-08-13T15:28:23: 🔓 Client released back to pool
2025-08-13T15:28:23: 🔓 Client released back to pool
2025-08-13T15:28:23: 🔗 Client acquired from pool
2025-08-13T15:28:23: 🔓 Client released back to pool
2025-08-13T15:28:25: 🔗 Client acquired from pool
2025-08-13T15:28:25: 🔓 Client released back to pool
2025-08-13T15:28:51: 🔗 Client acquired from pool
2025-08-13T15:28:51: 🔓 Client released back to pool
2025-08-13T15:28:53: 🔗 Client acquired from pool
2025-08-13T15:28:53: 🔓 Client released back to pool
2025-08-13T16:26:23: 🔌 WebSocket disconnected: admin
2025-08-13T16:26:24: ✅ New PostgreSQL client connected
2025-08-13T16:26:24: 🔗 Client acquired from pool
2025-08-13T16:26:24: ✅ New PostgreSQL client connected
2025-08-13T16:26:24: 🔗 Client acquired from pool
2025-08-13T16:26:24: 🔓 Client released back to pool
2025-08-13T16:26:24: 🔓 Client released back to pool
2025-08-13T16:26:24: 🔗 Client acquired from pool
2025-08-13T16:26:24: 🔓 Client released back to pool
2025-08-13T16:26:24: 🔗 Client acquired from pool
2025-08-13T16:26:24: 🔓 Client released back to pool
2025-08-13T16:26:24: New WebSocket connection attempt
2025-08-13T16:26:24: ✅ WebSocket authenticated: admin (admin)
2025-08-13T16:26:24: 🔗 Client acquired from pool
2025-08-13T16:26:24: 🔓 Client released back to pool
2025-08-13T16:26:24: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T16:26:24: 🏠 admin joined room: production
2025-08-13T16:26:31: 🔌 WebSocket disconnected: admin
2025-08-13T18:03:10: 🌐 WebSocket server initialized
2025-08-13T18:03:10: 🧹 WebSocket cleanup scheduler started
2025-08-13T18:03:10: 🧪 Testing refactored components...
2025-08-13T18:03:10: 🚀 Production refactored server running on port 3000
2025-08-13T18:03:10: 📊 Health check: http://localhost:3000/api/health
2025-08-13T18:03:10: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T18:03:10: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T18:03:10: 🌐 WebSocket server initialized and ready
2025-08-13T18:03:10: ✅ New PostgreSQL client connected
2025-08-13T18:03:10: 🔗 Client acquired from pool
2025-08-13T18:03:10: 🔓 Client released back to pool
2025-08-13T18:03:10: ✅ Database connection: OK
2025-08-13T18:03:10: ✅ Authentication middleware: OK
2025-08-13T18:03:10: ✅ Response utilities: OK
2025-08-13T18:03:10: ✅ Database utilities: OK
2025-08-13T18:03:10: 🎉 All components tested successfully!
2025-08-13T18:03:10: ✅ All components tested successfully
2025-08-13T18:04:50: ✅ New PostgreSQL client connected
2025-08-13T18:04:50: 🔗 Client acquired from pool
2025-08-13T18:04:50: ✅ New PostgreSQL client connected
2025-08-13T18:04:50: 🔗 Client acquired from pool
2025-08-13T18:04:50: 🔓 Client released back to pool
2025-08-13T18:04:50: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: New WebSocket connection attempt
2025-08-13T18:04:51: ✅ WebSocket authenticated: admin (admin)
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 🔗 Client acquired from pool
2025-08-13T18:04:51: 🔓 Client released back to pool
2025-08-13T18:04:51: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:04:51: 🏠 admin joined room: production
2025-08-13T18:04:51: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:04:51: 🏠 admin joined room: production
2025-08-13T18:04:55: 🔗 Client acquired from pool
2025-08-13T18:04:55: 🔗 Client acquired from pool
2025-08-13T18:04:55: 🔓 Client released back to pool
2025-08-13T18:04:55: 🔓 Client released back to pool
2025-08-13T18:04:55: ✅ New PostgreSQL client connected
2025-08-13T18:04:55: 🔗 Client acquired from pool
2025-08-13T18:04:55: 🔓 Client released back to pool
2025-08-13T18:04:56: 🔗 Client acquired from pool
2025-08-13T18:04:56: 🔓 Client released back to pool
2025-08-13T18:04:57: 🔗 Client acquired from pool
2025-08-13T18:04:57: 🔗 Client acquired from pool
2025-08-13T18:04:57: 🔓 Client released back to pool
2025-08-13T18:04:57: 🔓 Client released back to pool
2025-08-13T18:04:57: 🔗 Client acquired from pool
2025-08-13T18:04:57: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:05:01: 🏠 admin joined room: production
2025-08-13T18:05:01: 📺 admin subscribed to: [ 'production', 'machines' ]
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: ✅ New PostgreSQL client connected
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 🔗 Client acquired from pool
2025-08-13T18:05:01: 🔓 Client released back to pool
2025-08-13T18:05:01: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:05:01: 🏠 admin joined room: production
2025-08-13T18:05:02: 📺 admin subscribed to: [ 'machines', 'production', 'alerts' ]
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 🔗 Client acquired from pool
2025-08-13T18:05:02: 🔓 Client released back to pool
2025-08-13T18:05:02: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:05:02: 🏠 admin joined room: production
2025-08-13T18:05:03: 🔗 Client acquired from pool
2025-08-13T18:05:03: 🔓 Client released back to pool
2025-08-13T18:05:03: 🔗 Client acquired from pool
2025-08-13T18:05:03: 🔓 Client released back to pool
2025-08-13T18:05:03: 🔗 Client acquired from pool
2025-08-13T18:05:03: 🔓 Client released back to pool
2025-08-13T18:05:03: 🔗 Client acquired from pool
2025-08-13T18:05:03: 🔓 Client released back to pool
2025-08-13T18:09:03: ✅ New PostgreSQL client connected
2025-08-13T18:09:03: 🔗 Client acquired from pool
2025-08-13T18:09:03: 🔓 Client released back to pool
2025-08-13T18:09:03: 🔗 Client acquired from pool
2025-08-13T18:09:03: 🔓 Client released back to pool
2025-08-13T18:09:03: ✅ Auth success: admin from ::1 - curl/8.5.0
2025-08-13T18:09:04: 🔗 Client acquired from pool
2025-08-13T18:09:04: 🔓 Client released back to pool
2025-08-13T18:09:04: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T18:09:26: 🔗 Client acquired from pool
2025-08-13T18:09:26: 🔓 Client released back to pool
2025-08-13T18:09:26: 🔗 Client acquired from pool
2025-08-13T18:09:26: 🔓 Client released back to pool
2025-08-13T18:09:26: ✅ Auth success: admin from ::1 - curl/8.5.0
2025-08-13T18:10:54: 🌐 WebSocket server initialized
2025-08-13T18:10:54: 🧹 WebSocket cleanup scheduler started
2025-08-13T18:10:54: 🧪 Testing refactored components...
2025-08-13T18:10:54: 🚀 Production refactored server running on port 3000
2025-08-13T18:10:54: 📊 Health check: http://localhost:3000/api/health
2025-08-13T18:10:54: 🔐 Auth test: http://localhost:3000/api/auth/login
2025-08-13T18:10:54: ⚙️ System routes: http://localhost:3000/api/system/health
2025-08-13T18:10:54: 🌐 WebSocket server initialized and ready
2025-08-13T18:10:54: ✅ New PostgreSQL client connected
2025-08-13T18:10:54: 🔗 Client acquired from pool
2025-08-13T18:10:54: 🔓 Client released back to pool
2025-08-13T18:10:54: ✅ Database connection: OK
2025-08-13T18:10:54: ✅ Authentication middleware: OK
2025-08-13T18:10:54: ✅ Response utilities: OK
2025-08-13T18:10:54: ✅ Database utilities: OK
2025-08-13T18:10:54: 🎉 All components tested successfully!
2025-08-13T18:10:54: ✅ All components tested successfully
2025-08-13T18:11:28: ✅ New PostgreSQL client connected
2025-08-13T18:11:28: 🔗 Client acquired from pool
2025-08-13T18:11:28: 🔓 Client released back to pool
2025-08-13T18:11:28: 🔗 Client acquired from pool
2025-08-13T18:11:28: 🔓 Client released back to pool
2025-08-13T18:11:28: ✅ Auth success: admin from ::1 - curl/8.5.0
2025-08-13T18:11:28: 🔗 Client acquired from pool
2025-08-13T18:11:28: 🔓 Client released back to pool
2025-08-13T18:11:28: 📡 Broadcast sent: attendance_marked to channel: labor (0 clients)
2025-08-13T18:11:54: 🔗 Client acquired from pool
2025-08-13T18:11:54: 🔓 Client released back to pool
2025-08-13T18:11:54: 🔗 Client acquired from pool
2025-08-13T18:11:54: 🔓 Client released back to pool
2025-08-13T18:11:54: 🔗 Client acquired from pool
2025-08-13T18:11:54: 🔓 Client released back to pool
2025-08-13T18:11:54: 🔗 Client acquired from pool
2025-08-13T18:11:54: 🔓 Client released back to pool
2025-08-13T18:11:54: New WebSocket connection attempt
2025-08-13T18:11:54: ✅ WebSocket authenticated: admin (admin)
2025-08-13T18:11:54: 🔗 Client acquired from pool
2025-08-13T18:11:54: 🔓 Client released back to pool
2025-08-13T18:11:55: 📺 admin subscribed to: [
  'general',
  'notifications',
  'admin',
  'production',
  'machines',
  'alerts',
  'analytics'
]
2025-08-13T18:11:55: 🏠 admin joined room: production
