# PostgreSQL Configuration for Production Orders App
# Copy to .env and update values for your environment

# Application Configuration
NODE_ENV=production
PORT=3000
JWT_SECRET=your_jwt_secret_here_change_in_production

# PostgreSQL Database Configuration
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=production_orders
DB_USER=postgres
DB_PASSWORD=your_postgresql_password
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# Timezone Configuration
TZ=Africa/Johannesburg
DB_TIMEZONE=Africa/Johannesburg

# Connection Pool Settings (for high availability)
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_CREATE_TIMEOUT=30000
DB_POOL_DESTROY_TIMEOUT=5000
DB_POOL_IDLE_TIMEOUT=10000
DB_POOL_REAP_INTERVAL=1000
DB_POOL_CREATE_RETRY_INTERVAL=200

# Query Timeout Settings
DB_QUERY_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=30000

# SSL Configuration (for production)
# DB_SSL_CA=/path/to/ca-certificate.crt
# DB_SSL_CERT=/path/to/client-certificate.crt
# DB_SSL_KEY=/path/to/client-key.key
# DB_SSL_REJECT_UNAUTHORIZED=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=your-region

# Monitoring and Logging
LOG_LEVEL=info
ENABLE_QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD=1000

# WebSocket Configuration (unchanged)
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=1000

# Rate Limiting (unchanged)
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100